!function(){function e(e,a){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,a){if(!e)return;if("string"==typeof e)return t(e,a);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return t(e,a)}(e))||a&&e&&"number"==typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,c=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return c=e.done,e},e:function(e){s=!0,r=e},f:function(){try{c||null==n.return||n.return()}finally{if(s)throw r}}}}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,a){return t&&n(e.prototype,t),a&&n(e,a),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"8/JR":function(e,t,a){"use strict";var n=a("8T9/"),i=a("Ibf7");e.exports=function(e,t){var a=t||{},o={};return void 0===e&&(e={}),e.on=function(t,a){return o[t]?o[t].push(a):o[t]=[a],e},e.once=function(t,a){return a._once=!0,e.on(t,a),e},e.off=function(t,a){var n=arguments.length;if(1===n)delete o[t];else if(0===n)o={};else{var i=o[t];if(!i)return e;i.splice(i.indexOf(a),1)}return e},e.emit=function(){var t=n(arguments);return e.emitterSnapshot(t.shift()).apply(this,t)},e.emitterSnapshot=function(t){var r=(o[t]||[]).slice(0);return function(){var o=n(arguments),c=this||e;if("error"===t&&!1!==a.throws&&!r.length)throw 1===o.length?o[0]:o;return r.forEach((function(n){a.async?i(n,o,c):n.apply(c,o),n._once&&e.off(t,n)})),e}},e}},"8T9/":function(e,t){e.exports=function(e,t){return Array.prototype.slice.call(e,t)}},Gjsa:function(e,t){var a="function"==typeof setImmediate;e.exports=a?function(e){setImmediate(e)}:function(e){setTimeout(e,0)}},Hdb2:function(e,t,a){"use strict";var n=a("8/JR"),i=a("PzH3"),o=a("tDoN"),r=document,c=r.documentElement;function s(e,t,a,n){global.navigator.pointerEnabled?i[t](e,{mouseup:"pointerup",mousedown:"pointerdown",mousemove:"pointermove"}[a],n):global.navigator.msPointerEnabled?i[t](e,{mouseup:"MSPointerUp",mousedown:"MSPointerDown",mousemove:"MSPointerMove"}[a],n):(i[t](e,{mouseup:"touchend",mousedown:"touchstart",mousemove:"touchmove"}[a],n),i[t](e,a,n))}function d(e){if(void 0!==e.touches)return e.touches.length;if(void 0!==e.which&&0!==e.which)return e.which;if(void 0!==e.buttons)return e.buttons;var t=e.button;return void 0!==t?1&t?1:2&t?3:4&t?2:0:void 0}function l(e){var t=e.getBoundingClientRect();return{left:t.left+b("scrollLeft","pageXOffset"),top:t.top+b("scrollTop","pageYOffset")}}function b(e,t){return void 0!==global[t]?global[t]:c.clientHeight?c[e]:r.body[e]}function u(e,t,a){var n,i=e||{},o=i.className;return i.className+=" gu-hide",n=r.elementFromPoint(t,a),i.className=o,n}function m(){return!1}function f(){return!0}function g(e){return e.width||e.right-e.left}function p(e){return e.height||e.bottom-e.top}function h(e){return e.parentNode===r?null:e.parentNode}function v(e){return"INPUT"===e.tagName||"TEXTAREA"===e.tagName||"SELECT"===e.tagName||function e(t){return!!t&&"false"!==t.contentEditable&&("true"===t.contentEditable||e(h(t)))}(e)}function x(e){return e.nextElementSibling||function(){var t=e;do{t=t.nextSibling}while(t&&1!==t.nodeType);return t}()}function y(e,t){var a=function(e){return e.targetTouches&&e.targetTouches.length?e.targetTouches[0]:e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e}(t),n={pageX:"clientX",pageY:"clientY"};return e in n&&!(e in a)&&n[e]in a&&(e=n[e]),a[e]}e.exports=function(e,t){var a,b,w,k,X,W,F,C,L,I,A,O=arguments.length;1===O&&!1===Array.isArray(e)&&(t=e,e=[]);var S,M=null,q=t||{};void 0===q.moves&&(q.moves=f),void 0===q.accepts&&(q.accepts=f),void 0===q.invalid&&(q.invalid=G),void 0===q.containers&&(q.containers=e||[]),void 0===q.isContainer&&(q.isContainer=m),void 0===q.copy&&(q.copy=!1),void 0===q.copySortSource&&(q.copySortSource=!1),void 0===q.revertOnSpill&&(q.revertOnSpill=!1),void 0===q.removeOnSpill&&(q.removeOnSpill=!1),void 0===q.direction&&(q.direction="vertical"),void 0===q.ignoreInputTextSelection&&(q.ignoreInputTextSelection=!0),void 0===q.mirrorContainer&&(q.mirrorContainer=r.body);var Q=n({containers:q.containers,start:Y,end:$,cancel:K,remove:H,destroy:R,canMove:P,dragging:!1});return!0===q.removeOnSpill&&Q.on("over",ie).on("out",oe),D(),Q;function _(e){return-1!==Q.containers.indexOf(e)||q.isContainer(e)}function D(e){var t=e?"remove":"add";s(c,t,"mousedown",N),s(c,t,"mouseup",Z)}function j(e){s(c,e?"remove":"add","mousemove",B)}function E(e){var t=e?"remove":"add";i[t](c,"selectstart",T),i[t](c,"click",T)}function R(){D(!0),Z({})}function T(e){S&&e.preventDefault()}function N(e){if(W=e.clientX,F=e.clientY,1===d(e)&&!e.metaKey&&!e.ctrlKey){var t=e.target,a=z(t);a&&(S=a,j(),"mousedown"===e.type&&(v(t)?t.focus():e.preventDefault()))}}function B(e){if(S)if(0!==d(e)){if(void 0===e.clientX||e.clientX!==W||void 0===e.clientY||e.clientY!==F){if(q.ignoreInputTextSelection){var t=y("clientX",e),a=y("clientY",e);if(v(r.elementFromPoint(t,a)))return}var n=S;j(!0),E(),$(),V(n);var i=l(w);k=y("pageX",e)-i.left,X=y("pageY",e)-i.top,o.add(I||w,"gu-transit"),re(),ne(e)}}else Z({})}function z(e){if(!(Q.dragging&&a||_(e))){for(var t=e;h(e)&&!1===_(h(e));){if(q.invalid(e,t))return;if(!(e=h(e)))return}var n=h(e);if(n&&!q.invalid(e,t)&&q.moves(e,n,t,x(e)))return{item:e,source:n}}}function P(e){return!!z(e)}function Y(e){var t=z(e);t&&V(t)}function V(e){le(e.item,e.source)&&(I=e.item.cloneNode(!0),Q.emit("cloned",I,e.item,"copy")),b=e.source,w=e.item,C=L=x(e.item),Q.dragging=!0,Q.emit("drag",w,b)}function G(){return!1}function $(){if(Q.dragging){var e=I||w;J(e,h(e))}}function U(){S=!1,j(!0),E(!0)}function Z(e){if(U(),Q.dragging){var t=I||w,n=y("clientX",e),i=y("clientY",e),o=ae(u(a,n,i),n,i);o&&(I&&q.copySortSource||!I||o!==b)?J(t,o):q.removeOnSpill?H():K()}}function J(e,t){var a=h(e);I&&q.copySortSource&&t===b&&a.removeChild(w),te(t)&&e.parent===t?Q.emit("cancel",e,b,b):Q.emit("drop",e,t,b,L),ee()}function H(){if(Q.dragging){var e=I||w,t=h(e);t&&t.removeChild(e),Q.emit(I?"cancel":"remove",e,t,b),ee()}}function K(e){if(Q.dragging){var t=arguments.length>0?e:q.revertOnSpill,a=I||w,n=h(a),i=te(n);!1===i&&t&&(I?n&&n.removeChild(I):b.insertBefore(a,C)),i||t?Q.emit("cancel",a,b,b):Q.emit("drop",a,n,b,L),ee()}}function ee(){var e=I||w;U(),ce(),e&&o.rm(e,"gu-transit"),A&&clearTimeout(A),Q.dragging=!1,M&&Q.emit("out",e,M,b),Q.emit("dragend",e),b=w=I=C=L=A=M=null}function te(e,t){var n;return n=void 0!==t?t:a?L:x(I||w),e===b&&n===C}function ae(e,t,a){for(var n=e;n&&!i();)n=h(n);return n;function i(){if(!1===_(n))return!1;var i=se(n,e),o=de(n,i,t,a);return!!te(n,o)||q.accepts(w,n,b,o)}}function ne(e){if(a){e.preventDefault();var t=y("clientX",e),n=y("clientY",e),i=n-X;a.style.left=t-k+"px",a.style.top=i+"px";var o=I||w,r=u(a,t,n),c=ae(r,t,n),s=null!==c&&c!==M;(s||null===c)&&(M&&f("out"),M=c,s&&f("over"));var d=h(o);if(c!==b||!I||q.copySortSource){var l,m=se(c,r);if(null!==m)l=de(c,m,t,n);else{if(!0!==q.revertOnSpill||I)return void(I&&d&&d.removeChild(o));l=C,c=b}(null===l&&s||l!==o&&l!==x(o))&&(L=l,c.insertBefore(o,l),Q.emit("shadow",o,c,b))}else d&&d.removeChild(o)}function f(e){Q.emit(e,o,M,b)}}function ie(e){o.rm(e,"gu-hide")}function oe(e){Q.dragging&&o.add(e,"gu-hide")}function re(){if(!a){var e=w.getBoundingClientRect();(a=w.cloneNode(!0)).style.width=g(e)+"px",a.style.height=p(e)+"px",o.rm(a,"gu-transit"),o.add(a,"gu-mirror"),q.mirrorContainer.appendChild(a),s(c,"add","mousemove",ne),o.add(q.mirrorContainer,"gu-unselectable"),Q.emit("cloned",a,w,"mirror")}}function ce(){a&&(o.rm(q.mirrorContainer,"gu-unselectable"),s(c,"remove","mousemove",ne),h(a).removeChild(a),a=null)}function se(e,t){for(var a=t;a!==e&&h(a)!==e;)a=h(a);return a===c?null:a}function de(e,t,a,n){var i,o="function"==typeof q.direction?q.direction(w,e,b):q.direction,r="horizontal"===o,c="mixed"===o;return t===e||c?function(){var t,i,o,s=e.children.length;for(t=0;t<s;t++){if(o=(i=e.children[t]).getBoundingClientRect(),r&&o.left+o.width/2>a)return i;if(!c&&!r&&o.top+o.height/2>n)return i;if(c&&o.left+o.width>a&&o.top+o.height>n)return i}return null}():(i=t.getBoundingClientRect(),(r?a>i.left+g(i)/2:n>i.top+p(i)/2)?x(t):t)}function le(e,t){return"boolean"==typeof q.copy?q.copy:q.copy(e,t)}}},Ibf7:function(e,t,a){"use strict";var n=a("Gjsa");e.exports=function(e,t,a){e&&n((function(){e.apply(a||null,t||[])}))}},PzH3:function(e,t,a){"use strict";var n=a("bBst"),i=a("Ys8N"),o=global.document,r=function(e,t,a,n){return e.addEventListener(t,a,n)},c=function(e,t,a,n){return e.removeEventListener(t,a,n)},s=[];function d(e,t,a){var n=function(e,t,a){var n,i;for(n=0;n<s.length;n++)if((i=s[n]).element===e&&i.type===t&&i.fn===a)return n}(e,t,a);if(n){var i=s[n].wrapper;return s.splice(n,1),i}}global.addEventListener||(r=function(e,t,a){return e.attachEvent("on"+t,function(e,t,a){var n=d(e,t,a)||function(e,t,a){return function(t){var n=t||global.event;n.target=n.target||n.srcElement,n.preventDefault=n.preventDefault||function(){n.returnValue=!1},n.stopPropagation=n.stopPropagation||function(){n.cancelBubble=!0},n.which=n.which||n.keyCode,a.call(e,n)}}(e,0,a);return s.push({wrapper:n,element:e,type:t,fn:a}),n}(e,t,a))},c=function(e,t,a){var n=d(e,t,a);if(n)return e.detachEvent("on"+t,n)}),e.exports={add:r,remove:c,fabricate:function(e,t,a){var r=-1===i.indexOf(t)?new n(t,{detail:a}):function(){var e;return o.createEvent?(e=o.createEvent("Event")).initEvent(t,!0,!0):o.createEventObject&&(e=o.createEventObject()),e}();e.dispatchEvent?e.dispatchEvent(r):e.fireEvent("on"+t,r)}}},Ys8N:function(e,t,a){"use strict";var n=[],i="",o=/^on/;for(i in global)o.test(i)&&n.push(i.slice(2));e.exports=n},bBst:function(e,t){var a=global.CustomEvent;e.exports=function(){try{var e=new a("cat",{detail:{foo:"bar"}});return"cat"===e.type&&"bar"===e.detail.foo}catch(t){}return!1}()?a:"function"==typeof document.createEvent?function(e,t){var a=document.createEvent("CustomEvent");return t?a.initCustomEvent(e,t.bubbles,t.cancelable,t.detail):a.initCustomEvent(e,!1,!1,void 0),a}:function(e,t){var a=document.createEventObject();return a.type=e,t?(a.bubbles=Boolean(t.bubbles),a.cancelable=Boolean(t.cancelable),a.detail=t.detail):(a.bubbles=!1,a.cancelable=!1,a.detail=void 0),a}},igdQ:function(t,n,o){"use strict";o.r(n),o.d(n,"ScrumboardModule",(function(){return ta}));var r,c,s,d,l,b,u,m=o("tyNb"),f=o("bTqV"),g=o("bSwM"),p=o("A5z7"),h=o("FKr1"),v=o("iadO"),x=o("0IaG"),y=o("kmnG"),w=o("NFeN"),k=o("qFsG"),X=o("MutI"),W=o("STbY"),F=o("bv9b"),C=o("XhcP"),L=o("/t3+"),I=o("Qu3c"),A=o("fXoL"),O=o("ofXK"),S=o("Hdb2"),M=((s=function(){function e(){a(this,e),this.droppableMap=new WeakMap,this.draggableMap=new WeakMap,this.dragulaOptions=this.createDrakeOptions(),this.drake=S([],this.dragulaOptions),this.registerEvents()}return i(e,[{key:"register",value:function(e){this.droppableMap.set(e.container,e),this.drake.containers.push(e.container)}},{key:"remove",value:function(e){this.droppableMap.delete(e.container);var t=this.drake.containers.indexOf(e.container);t>-1&&this.drake.containers.splice(t,1)}},{key:"registerDraggable",value:function(e){this.draggableMap.set(e.element,e)}},{key:"removeDraggable",value:function(e){this.draggableMap.delete(e.element)}},{key:"createDrakeOptions",value:function(){var e=this;return{accepts:function(t,a){if(t.contains(a))return!1;var n=e.draggableMap.get(t),i=e.droppableMap.get(a);return!n||!i||n.dropZones.includes(i.dropZone)},copy:function(t,a){var n=e.droppableMap.get(a);return!!n&&n.copy},moves:function(t,a,n,i){var o=e.draggableMap.get(t);return!o||o.moves(a,n,i)},revertOnSpill:!0,direction:function(t,a,n){return e.droppableMap.get(a).direction||"vertical"}}}},{key:"registerEvents",value:function(){var e,t,a=this;this.drake.on("drag",(function(n,i){if(t=void 0,e=n,n&&i){if(a.draggableMap.has(n)){var o=a.draggableMap.get(n);t=o.model,o.drag.emit({type:"drag",el:n,source:i,value:t})}if(a.droppableMap.has(i)){var r=a.droppableMap.get(i);a.dragulaOptions.removeOnSpill=r.removeOnSpill,r.drag.emit({type:"drag",el:n,source:i,sourceComponent:r,value:t})}}})),this.drake.on("drop",(function(n,i,o){var r=a.droppableMap.get(i);if(r){var c=t,s=Array.prototype.indexOf.call(i.children,n);if(s<0)a.drake.cancel(!0);else{var d=a.droppableMap.get(o);if(d){var l=d.model,b=r.model,u=!(!l||!t),m=u?l.indexOf(t):-1;if(u&&m<0)return void a.drake.cancel(!0);if(b){var f=!l||e!==n;m>-1&&l&&i===o?l.splice(s,0,l.splice(m,1)[0]):(n.parentNode===i&&i.removeChild(n),f?c=JSON.parse(JSON.stringify(c)):(n.parentNode!==o&&a.drake.cancel(!0),l.splice(m,1)),b.splice(s,0,c))}}r.drop.emit({type:"drop",el:n,source:o,value:c,dropIndex:s})}}})),this.drake.on("remove",(function(e,n,i){if(a.droppableMap.has(i)){var o=a.droppableMap.get(i),r=o.model,c=t&&r?r.indexOf(t):-1;c>-1&&(e.parentNode!==i&&i.appendChild(e),r.splice(c,1)),o.remove.emit({type:"remove",el:e,container:n,source:i,value:t})}})),this.drake.on("cancel",(function(e,n,i){a.droppableMap.has(n)&&a.droppableMap.get(n).cancel.emit({type:"cancel",el:e,container:n,source:i,value:t})})),this.drake.on("over",(function(e,n,i){a.droppableMap.has(n)&&a.droppableMap.get(n).over.emit({type:"over",el:e,container:n,source:i,value:t})})),this.drake.on("out",(function(e,n,i){a.droppableMap.has(n)&&a.droppableMap.get(n).out.emit({type:"out",el:e,container:n,source:i,value:t})}))}}]),e}()).\u0275fac=function(e){return new(e||s)},s.\u0275prov=Object(A.Nb)({factory:function(){return new s},token:s,providedIn:"root"}),s),q=1e4,Q=((c=function(){function e(t,n,i){a(this,e),this.el=t,this.renderer=n,this.drakesService=i,this.copy=!1,this.removeOnSpill=!1,this.direction="vertical",this.drop=new A.o,this.drag=new A.o,this.over=new A.o,this.out=new A.o,this.remove=new A.o,this.cancel=new A.o}return i(e,[{key:"ngOnInit",value:function(){this.defaultZone="@@DefaultDropZone-".concat(q++,"@@"),this.drakesService.register(this)}},{key:"ngAfterViewInit",value:function(){var e=this;this.over.subscribe((function(){e.renderer.addClass(e.container,"gu-over")})),this.out.subscribe((function(){e.renderer.removeClass(e.container,"gu-over")}))}},{key:"ngOnDestroy",value:function(){this.drakesService.remove(this)}},{key:"container",get:function(){return this.el.nativeElement}},{key:"dropZone",get:function(){return this._dropZone||this.ngxDroppable||this.defaultZone},set:function(e){this._dropZone=e}}]),e}()).\u0275fac=function(e){return new(e||c)(A.Rb(A.l),A.Rb(A.I),A.Rb(M))},c.\u0275dir=A.Mb({type:c,selectors:[["","ngxDroppable",""]],inputs:{copy:"copy",removeOnSpill:"removeOnSpill",direction:"direction",dropZone:"dropZone",model:"model",ngxDroppable:"ngxDroppable"},outputs:{drop:"drop",drag:"drag",over:"over",out:"out",remove:"remove",cancel:"cancel"}}),c),_=((r=function(){function e(t,n,i){a(this,e),this.el=t,this.drakesService=n,this.droppableDirective=i,this._moves=!0,this.handles=[],this.drag=new A.o,this.dragDelay=200,this.dragDelayed=!0}return i(e,[{key:"onMove",value:function(e){this._moves&&!this.dragDelayed||(e.stopPropagation(),clearTimeout(this.touchTimeout))}},{key:"onDown",value:function(){var e=this;this._moves&&(this.touchTimeout=setTimeout((function(){e.dragDelayed=!1}),this.dragDelay))}},{key:"onUp",value:function(){this._moves&&(clearTimeout(this.touchTimeout),this.dragDelayed=!0)}},{key:"ngOnInit",value:function(){this.update()}},{key:"update",value:function(){this._parentDropzones=[this.droppableDirective.dropZone],this.drakesService.registerDraggable(this),this.updateElements()}},{key:"ngOnDestroy",value:function(){this.drakesService.removeDraggable(this)}},{key:"updateElements",value:function(){var e=this.el.nativeElement,t=e.querySelectorAll("[ngxdraghandle]");this.handles=Array.from(t).filter((function(t){return function(e){for(;e.parentNode;)if((e=e.parentNode).hasAttribute&&e.hasAttribute("ngxdraggable"))return e}(t)===e}))}},{key:"canMove",value:function(e,t,a){return"boolean"==typeof this._moves?this._moves:"function"!=typeof this._moves||this._moves(this.model,e,t,a)}},{key:"moves",value:function(e,t,a){return!!this.canMove(e,t,a)&&(!this.hasHandle||this.handles.some((function(e){return function(e,t){if(e===t)return!0;for(;(e=e.parentNode)&&e!==t;);return!!e}(t,e)})))}},{key:"ngDoCheck",value:function(){this.updateElements()}},{key:"dropZones",get:function(){return this._dropZones||this.ngxDraggable||this._parentDropzones},set:function(e){this._dropZones=e}},{key:"hasHandle",get:function(){return!!this.handles.length}},{key:"element",get:function(){return this.el.nativeElement}}]),e}()).\u0275fac=function(e){return new(e||r)(A.Rb(A.l),A.Rb(M),A.Rb(Q))},r.\u0275dir=A.Mb({type:r,selectors:[["","ngxDraggable",""]],hostBindings:function(e,t){1&e&&A.fc("touchmove",(function(e){return t.onMove(e)}))("touchstart",(function(){return t.onDown()}))("touchend",(function(){return t.onUp()}))},inputs:{_moves:["moves","_moves"],dropZones:"dropZones",ngxDraggable:"ngxDraggable",model:"model"},outputs:{drag:"drag"}}),r),D=((l=d=function(){function e(){a(this,e)}return i(e,null,[{key:"forRoot",value:function(){return{ngModule:d,providers:[M]}}}]),e}()).\u0275mod=A.Pb({type:l}),l.\u0275inj=A.Ob({factory:function(e){return new(e||l)},imports:[[O.c]]}),l),j=o("5HBU"),E=o("LPQX"),R=o("2Vo4"),T=o("8xha"),N=((u=function(){function t(e){a(this,t),this.entity=e,this.onBoardsChanged=new R.a([]),this.onBoardChanged=new R.a([])}return i(t,[{key:"resolve",value:function(e,t){var a=this;return this.routeParams=e.params,new Promise((function(e,t){Promise.all([a.getBoards()]).then((function(){e()}),t)}))}},{key:"getBoards",value:function(){var e=this;return new Promise((function(t,a){e.entity.getAll("Board").subscribe((function(a){e.boards=a.body,e.onBoardsChanged.next(e.boards),t(e.boards)}),a)}))}},{key:"getBoard",value:function(e){var t=this;return new Promise((function(a,n){t.entity.getOne("Board",e).subscribe((function(e){t.board=e.body,t.onBoardChanged.next(t.board),a(t.board)}),n)}))}},{key:"addCard",value:function(e,t){return console.log(t),this.board.lists.map((function(a){if(a.id===e)return a.idCards.push(t.id)})),this.board.cards.push(t),this.updateBoard()}},{key:"addList",value:function(e){return this.board.lists?this.board.lists.push(e):this.board.lists=[e],this.updateBoard()}},{key:"removeList",value:function(t){var a,n=this.board.lists.find((function(e){return e.id===t})),i=e(n.idCards);try{for(i.s();!(a=i.n()).done;){var o=a.value;this.removeCard(o)}}catch(c){i.e(c)}finally{i.f()}var r=this.board.lists.indexOf(n);return this.board.lists.splice(r,1),this.updateBoard()}},{key:"removeCard",value:function(e,t){var a=this.board.cards.find((function(t){return t.id===e}));if(t){var n=this.board.lists.find((function(e){return t===e.id}));n.idCards.splice(n.idCards.indexOf(e),1)}this.board.cards.splice(this.board.cards.indexOf(a),1),this.updateBoard()}},{key:"updateBoard",value:function(){var e=this;return new Promise((function(t,a){e.entity.update("Board",e.board,e.board.id).subscribe((function(a){e.onBoardChanged.next(e.board),t(e.board)}),a)}))}},{key:"updateCard",value:function(e){this.board.cards.map((function(t){if(t.id===e.id)return e})),this.updateBoard()}},{key:"createNewBoard",value:function(e){var t=this;return new Promise((function(a,n){t.entity.save("Board",e).subscribe((function(t){a(e)}),(function(e){console.log("err",e)}))}))}}]),t}()).\u0275fac=function(e){return new(e||u)(A.bc(T.a))},u.\u0275prov=A.Nb({token:u,factory:u.\u0275fac}),u),B=((b=function(){function e(t){a(this,e),this._scrumboardService=t}return i(e,[{key:"resolve",value:function(e){return this._scrumboardService.getBoard(e.paramMap.get("boardId"))}}]),e}()).\u0275fac=function(e){return new(e||b)(A.bc(N))},b.\u0275prov=A.Nb({token:b,factory:b.\u0275fac}),b),z=o("XNiG"),P=o("1G5W"),Y=o("PVWW"),V=o("jD4G"),G=[{id:V.a.generateGUID(),name:"Important",color:"red-500"},{id:V.a.generateGUID(),name:"Regular",color:"blue-500"},{id:V.a.generateGUID(),name:"Closed",color:"green-400"}],$=[],U=function e(t){a(this,e),this.name=t.name||"new Board",this.uri=t.uri||"new-board",this.id=t.id||V.a.generateGUID(),this.settings=t.settings||{color:"",subscribed:!0,cardCoverImages:!0},this.lists=[],this.cards=[],this.members=t.members||$,this.labels=t.labels||G},Z=o("XiUz"),J=o("EwFO"),H=function(){return{y:"100%"}},K=function(e){return{value:"*",params:e}};function ee(e,t){if(1&e&&(A.Xb(0,"div",7),A.Xb(1,"mat-icon",5),A.Qc(2,"assessment"),A.Wb(),A.Xb(3,"div",6),A.Qc(4),A.Wb(),A.Wb()),2&e){var a=t.$implicit;A.qc("routerLink","/apps/scrumboard/boards/"+a.id+"/"+a.uri)("@animate",A.uc(4,K,A.tc(3,H))),A.Fb(4),A.Rc(a.name)}}var te,ae=function(){return{delay:"100ms"}},ne=function(){return{value:"50"}},ie=((te=function(){function e(t,n){a(this,e),this._router=t,this._scrumboardService=n,this._unsubscribeAll=new z.a}return i(e,[{key:"ngOnInit",value:function(){var e=this;this._scrumboardService.onBoardsChanged.pipe(Object(P.a)(this._unsubscribeAll)).subscribe((function(t){e.boards=t}))}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"newBoard",value:function(){var e=this,t=new U({});this._scrumboardService.createNewBoard(t).then((function(){e._router.navigate(["/apps/scrumboard/boards/"+t.id+"/"+t.uri])}))}}]),e}()).\u0275fac=function(e){return new(e||te)(A.Rb(m.h),A.Rb(N))},te.\u0275cmp=A.Lb({type:te,selectors:[["scrumboard"]],decls:11,vars:11,consts:[["id","boards","fxLayout","column","fxLayoutAlign","start center","fxFlex","","fusePerfectScrollbar","",1,"fuse-navy"],["fxLayout","row","fxLayoutAlign","center center","fxFlex","0 0 auto",1,"header","pt-44","pt-md-88"],["fxFlex","0 0 auto","fxLayout","row wrap","fxLayoutAlign","center center",1,"board-list"],["class","board-list-item","fxLayout","column","fxLayoutAlign","center center",3,"routerLink",4,"ngFor","ngForOf"],["fxLayout","column","fxLayoutAlign","center center",1,"board-list-item","add-new-board",3,"click"],[1,"s-56"],[1,"board-name"],["fxLayout","column","fxLayoutAlign","center center",1,"board-list-item",3,"routerLink"]],template:function(e,t){1&e&&(A.Xb(0,"div",0),A.Xb(1,"div",1),A.Xb(2,"h1"),A.Qc(3,"CRM App"),A.Wb(),A.Wb(),A.Xb(4,"div",2),A.Oc(5,ee,5,6,"div",3),A.Xb(6,"div",4),A.fc("click",(function(){return t.newBoard()})),A.Xb(7,"mat-icon",5),A.Qc(8,"add_circle"),A.Wb(),A.Xb(9,"div",6),A.Qc(10,"Add new board"),A.Wb(),A.Wb(),A.Wb(),A.Wb()),2&e&&(A.Fb(1),A.qc("@animate",A.uc(5,K,A.tc(4,ae))),A.Fb(3),A.qc("@animateStagger",A.tc(7,ne)),A.Fb(1),A.qc("ngForOf",t.boards),A.Fb(1),A.qc("@animate",A.uc(9,K,A.tc(8,H))))},directives:[Z.f,Z.e,Z.b,J.a,O.s,w.a,m.i],styles:["scrumboard{min-height:100%}scrumboard #boards{width:100%;overflow:auto;-webkit-overflow-scrolling:touch}scrumboard #boards .header h1{font-size:40px;font-weight:300}scrumboard #boards .board-list{padding:32px 0;max-height:none!important}scrumboard #boards .board-list .board-list-item{min-width:210px;min-height:210px;width:210px;height:210px;padding:24px 0;margin:16px;border-radius:8px;background:rgba(0,0,0,.12);transition:box-shadow .15s ease-in;cursor:pointer}scrumboard #boards .board-list .board-list-item:hover:not(.add-new-board){box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}scrumboard #boards .board-list .board-list-item .board-name{padding:16px 32px 0;font-weight:300;font-size:16px;text-align:center}scrumboard #boards .board-list .board-list-item.add-new-board{background:rgba(0,0,0,.06);border:2px dashed hsla(0,0%,100%,.37)}"],encapsulation:2,data:{animation:Y.a}}),te),oe=function e(t){a(this,e),this.id=t.id||V.a.generateGUID(),this.name=t.name||"",this.idCards=[]},re=o("znSr"),ce=o("3Pt+"),se=["nameInput"];function de(e,t){if(1&e){var a=A.Yb();A.Xb(0,"button",4),A.fc("click",(function(){return A.Ec(a),A.jc(2).openForm()})),A.Xb(1,"mat-icon",5),A.Qc(2,"edit_mode"),A.Wb(),A.Wb()}}function le(e,t){if(1&e&&(A.Xb(0,"div",2),A.Xb(1,"span"),A.Qc(2),A.Wb(),A.Oc(3,de,3,0,"button",3),A.Wb()),2&e){var a=A.jc();A.Fb(2),A.Rc(a.board.name),A.Fb(1),A.qc("ngIf",!a.isSystem)}}function be(e,t){if(1&e){var a=A.Yb();A.Xb(0,"form",6),A.fc("ngSubmit",(function(){return A.Ec(a),A.jc().onFormSubmit()})),A.Sb(1,"input",7,8),A.Xb(3,"button",9),A.Xb(4,"mat-icon"),A.Qc(5,"check"),A.Wb(),A.Wb(),A.Xb(6,"button",10),A.fc("click",(function(){return A.Ec(a),A.jc().closeForm()})),A.Xb(7,"mat-icon"),A.Qc(8,"close"),A.Wb(),A.Wb(),A.Wb()}if(2&e){var n=A.jc();A.qc("formGroup",n.form)}}var ue,me=((ue=function(){function e(t){a(this,e),this.formBuilder=t,this.formActive=!1,this.boardNameChanged=new A.o}return i(e,[{key:"openForm",value:function(){this.form=this.formBuilder.group({name:[this.board.name]}),this.formActive=!0,this.focusNameField()}},{key:"closeForm",value:function(){this.formActive=!1}},{key:"focusNameField",value:function(){var e=this;setTimeout((function(){e.nameInputField.nativeElement.focus()}))}},{key:"onFormSubmit",value:function(){this.form.valid&&(this.board.name=this.form.getRawValue().name,this.board.uri=encodeURIComponent(this.board.name).replace(/%20/g,"-").toLowerCase(),this.boardNameChanged.next(this.board.name),this.formActive=!1)}},{key:"isSystem",get:function(){var e=this.board.uri;if(e)return e.startsWith("system-board")}}]),e}()).\u0275fac=function(e){return new(e||ue)(A.Rb(ce.g))},ue.\u0275cmp=A.Lb({type:ue,selectors:[["scrumboard-edit-board-name"]],viewQuery:function(e,t){var a;1&e&&A.Vc(se,!0),2&e&&A.zc(a=A.gc())&&(t.nameInputField=a.first)},inputs:{board:"board"},outputs:{boardNameChanged:"boardNameChanged"},decls:2,vars:2,consts:[["class","board-name","fxFlex","1 0 auto","fxLayout","row","fxLayoutAlign","start center",4,"ngIf"],["class","board-name-form","fxLayout","row","fxFlex","1 0 auto",3,"formGroup","ngSubmit",4,"ngIf"],["fxFlex","1 0 auto","fxLayout","row","fxLayoutAlign","start center",1,"board-name"],["mat-icon-button","",3,"click",4,"ngIf"],["mat-icon-button","",3,"click"],[1,"s-16"],["fxLayout","row","fxFlex","1 0 auto",1,"board-name-form",3,"formGroup","ngSubmit"],["formControlName","name","fxFlex","1 0 auto","placeholder","Write a board name"],["nameInput",""],["mat-icon-button","","fxFlex","0 1 auto"],["mat-icon-button","","fxFlex","0 1 auto","type","button",3,"click"]],template:function(e,t){1&e&&(A.Oc(0,le,4,2,"div",0),A.Oc(1,be,9,1,"form",1)),2&e&&(A.qc("ngIf",!t.formActive),A.Fb(1),A.qc("ngIf",t.formActive))},directives:[O.t,Z.b,Z.f,Z.e,f.b,w.a,ce.J,ce.u,ce.l,ce.d,ce.t,ce.j],styles:["scrumboard-edit-board-name{display:block!important}scrumboard-edit-board-name .board-name{text-overflow:ellipsis;overflow:hidden;font-size:15px;font-weight:600}"],encapsulation:2}),ue),fe=["nameInput"];function ge(e,t){if(1&e){var a=A.Yb();A.Xb(0,"button",3),A.fc("click",(function(){return A.Ec(a),A.jc().openForm()})),A.Xb(1,"div",4),A.Xb(2,"mat-icon",5),A.Qc(3,"add"),A.Wb(),A.Xb(4,"span"),A.Qc(5,"Add a list"),A.Wb(),A.Wb(),A.Wb()}}function pe(e,t){if(1&e){var a=A.Yb();A.Xb(0,"form",6),A.fc("submit",(function(){return A.Ec(a),A.jc().onFormSubmit()})),A.Sb(1,"input",7,8),A.Xb(3,"button",9),A.Xb(4,"mat-icon"),A.Qc(5,"check"),A.Wb(),A.Wb(),A.Xb(6,"button",10),A.fc("click",(function(){return A.Ec(a),A.jc().closeForm()})),A.Xb(7,"mat-icon"),A.Qc(8,"close"),A.Wb(),A.Wb(),A.Wb()}if(2&e){var n=A.jc();A.qc("formGroup",n.form)}}var he,ve=((he=function(){function e(t){a(this,e),this._formBuilder=t,this.formActive=!1,this.listAdded=new A.o}return i(e,[{key:"openForm",value:function(){this.form=this._formBuilder.group({name:[""]}),this.formActive=!0,this.focusNameField()}},{key:"closeForm",value:function(){this.formActive=!1}},{key:"focusNameField",value:function(){var e=this;setTimeout((function(){e.nameInputField.nativeElement.focus()}))}},{key:"onFormSubmit",value:function(){this.form.valid&&(this.listAdded.next(this.form.getRawValue().name),this.formActive=!1)}}]),e}()).\u0275fac=function(e){return new(e||he)(A.Rb(ce.g))},he.\u0275cmp=A.Lb({type:he,selectors:[["scrumboard-board-add-list"]],viewQuery:function(e,t){var a;1&e&&A.Vc(fe,!0),2&e&&A.zc(a=A.gc())&&(t.nameInputField=a.first)},outputs:{listAdded:"listAdded"},decls:3,vars:2,consts:[[1,"list","new-list","mat-elevation-z1"],["mat-button","","class","new-list-form-button",3,"click",4,"ngIf"],["class","new-list-form","fxLayout","row","fxLayoutAlign","start center","fxFlex","1 0 auto",3,"formGroup","submit",4,"ngIf"],["mat-button","",1,"new-list-form-button",3,"click"],["fxLayout","row","fxLayoutAlign","start center"],[1,"red"],["fxLayout","row","fxLayoutAlign","start center","fxFlex","1 0 auto",1,"new-list-form",3,"formGroup","submit"],["formControlName","name","fxFlex","","placeholder","Write a list Name"],["nameInput",""],["mat-icon-button","","fxFlex","0 1 auto"],["mat-icon-button","","fxFlex","0 1 auto",3,"click"]],template:function(e,t){1&e&&(A.Xb(0,"div",0),A.Oc(1,ge,6,0,"button",1),A.Oc(2,pe,9,1,"form",2),A.Wb()),2&e&&(A.Fb(1),A.qc("ngIf",!t.formActive),A.Fb(1),A.qc("ngIf",t.formActive))},directives:[O.t,f.b,Z.f,Z.e,w.a,ce.J,ce.u,Z.b,ce.l,ce.d,ce.t,ce.j],styles:["scrumboard-board-add-list .new-list{border-radius:2px}scrumboard-board-add-list .new-list .new-list-form-button{text-transform:none;font-size:15px;padding:0 16px;height:64px;margin:0;width:100%}scrumboard-board-add-list .new-list .new-list-form-button mat-icon{border-radius:50%;height:40px;width:40px;line-height:40px;margin-right:16px}scrumboard-board-add-list .new-list .new-list-form{padding:16px;height:64px}scrumboard-board-add-list .new-list .new-list-form>input{height:100%}"],encapsulation:2}),he),xe=o("f0Cb"),ye=o("Z9WT"),we=o("s3g0");function ke(e,t){1&e&&(A.Xb(0,"mat-icon",6),A.Qc(1,"check"),A.Wb())}function Xe(e,t){if(1&e){var a=A.Yb();A.Xb(0,"button",7),A.fc("click",(function(e){A.Ec(a);var t=A.jc(2);return e.stopPropagation(),t.setColor("")})),A.Xb(1,"mat-icon",6),A.Qc(2,"delete"),A.Wb(),A.Wb()}}function We(e,t){if(1&e){var a=A.Yb();A.Xb(0,"mat-list-item",2),A.fc("click",(function(){A.Ec(a);var e=t.$implicit;return A.jc().setColor(e.key)})),A.Xb(1,"p",3),A.Qc(2),A.Wb(),A.Oc(3,ke,2,0,"mat-icon",4),A.Oc(4,Xe,3,0,"button",5),A.Wb()}if(2&e){var n=t.$implicit,i=A.jc();A.qc("ngClass",n.key),A.Fb(2),A.Rc(n.key),A.Fb(1),A.qc("ngIf",n.key===i.board.settings.color),A.Fb(1),A.qc("ngIf",n.key===i.board.settings.color)}}var Fe,Ce=((Fe=function(){function e(t){a(this,e),this._scrumboardService=t,this.colors=ye.a.all,this._unsubscribeAll=new z.a}return i(e,[{key:"ngOnInit",value:function(){var e=this;this._scrumboardService.onBoardChanged.pipe(Object(P.a)(this._unsubscribeAll)).subscribe((function(t){e.board=t}))}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"setColor",value:function(e){this.board.settings.color=e,this._scrumboardService.updateBoard()}}]),e}()).\u0275fac=function(e){return new(e||Fe)(A.Rb(N))},Fe.\u0275cmp=A.Lb({type:Fe,selectors:[["scrumboard-board-color-selector"]],decls:3,vars:3,consts:[[1,"colors"],["class","color m-8 mat-elevation-z1","matRipple","",3,"ngClass","click",4,"ngFor","ngForOf"],["matRipple","",1,"color","m-8","mat-elevation-z1",3,"ngClass","click"],["fxFlex",""],["class","s-16",4,"ngIf"],["mat-icon-button","",3,"click",4,"ngIf"],[1,"s-16"],["mat-icon-button","",3,"click"]],template:function(e,t){1&e&&(A.Xb(0,"mat-list",0),A.Oc(1,We,5,4,"mat-list-item",1),A.kc(2,"keys"),A.Wb()),2&e&&(A.Fb(1),A.qc("ngForOf",A.lc(2,1,t.colors)))},directives:[X.a,O.s,X.d,h.t,re.a,O.q,Z.b,O.t,w.a,f.b],pipes:[we.a],styles:["scrumboard-board-color-selector .colors .color{position:relative;cursor:pointer}"],encapsulation:2}),Fe);function Le(e,t){1&e&&(A.Xb(0,"mat-icon",12),A.Qc(1,"check"),A.Wb())}function Ie(e,t){1&e&&(A.Xb(0,"mat-icon",12),A.Qc(1,"check"),A.Wb())}function Ae(e,t){if(1&e){var a=A.Yb();A.Xb(0,"div",2),A.Xb(1,"div",3),A.Xb(2,"div"),A.Qc(3,"Settings"),A.Wb(),A.Wb(),A.Xb(4,"div",4),A.Xb(5,"div",5),A.Xb(6,"div",6),A.Xb(7,"div",7),A.fc("click",(function(){return A.Ec(a),A.jc().view="board-color"})),A.Xb(8,"mat-icon",8),A.Qc(9,"format_color_fill"),A.Wb(),A.Xb(10,"p",9),A.Qc(11,"Board Color"),A.Wb(),A.Wb(),A.Wb(),A.Xb(12,"div",6),A.Xb(13,"div",7),A.fc("click",(function(){return A.Ec(a),A.jc().toggleCardCover()})),A.Xb(14,"mat-icon",8),A.Qc(15,"photo"),A.Wb(),A.Xb(16,"p",10),A.Qc(17,"Card Cover Images"),A.Wb(),A.Oc(18,Le,2,0,"mat-icon",11),A.Wb(),A.Wb(),A.Xb(19,"div",6),A.Xb(20,"div",7),A.fc("click",(function(){return A.Ec(a),A.jc().toggleSubscription()})),A.Xb(21,"mat-icon",8),A.Qc(22,"remove_red_eye"),A.Wb(),A.Xb(23,"p",10),A.Qc(24,"Subscribe"),A.Wb(),A.Oc(25,Ie,2,0,"mat-icon",11),A.Wb(),A.Wb(),A.Sb(26,"mat-divider"),A.Wb(),A.Wb(),A.Wb()}if(2&e){var n=A.jc();A.qc("@slideInLeft",void 0),A.Fb(1),A.qc("ngClass",null==n.board.settings?null:n.board.settings.color),A.Fb(17),A.qc("ngIf",n.board.settings.cardCoverImages),A.Fb(7),A.qc("ngIf",n.board.settings.subscribed)}}function Oe(e,t){if(1&e){var a=A.Yb();A.Xb(0,"div",2),A.Xb(1,"div",13),A.Xb(2,"div"),A.Qc(3,"Background Color"),A.Wb(),A.Xb(4,"button",14),A.fc("click",(function(){return A.Ec(a),A.jc().view="main"})),A.Xb(5,"mat-icon",15),A.Qc(6,"arrow_back"),A.Wb(),A.Wb(),A.Wb(),A.Xb(7,"div",16),A.Sb(8,"scrumboard-board-color-selector"),A.Wb(),A.Wb()}if(2&e){var n=A.jc();A.qc("@slideInRight",void 0),A.Fb(1),A.qc("ngClass",n.board.settings.color)}}var Se,Me,qe=((Me=function(){function e(t){a(this,e),this.scrumboardService=t,this.view="main",this._unsubscribeAll=new z.a}return i(e,[{key:"ngOnInit",value:function(){var e=this;this.scrumboardService.onBoardChanged.pipe(Object(P.a)(this._unsubscribeAll)).subscribe((function(t){e.board=t}))}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"toggleCardCover",value:function(){this.board.settings.cardCoverImages=!this.board.settings.cardCoverImages,this.scrumboardService.updateBoard()}},{key:"toggleSubscription",value:function(){this.board.settings.subscribed=!this.board.settings.subscribed,this.scrumboardService.updateBoard()}}]),e}()).\u0275fac=function(e){return new(e||Me)(A.Rb(N))},Me.\u0275cmp=A.Lb({type:Me,selectors:[["scrumboard-board-settings"]],decls:3,vars:3,consts:[[1,"views",3,"ngSwitch","click"],["class","view",4,"ngSwitchCase"],[1,"view"],["fxLayout","column","fxLayoutAlign","center center",1,"header","px-24",3,"ngClass"],["fusePerfectScrollbar","",1,"content","py-16"],[1,"nav","material2"],[1,"nav-item"],["matRipple","",1,"nav-link",3,"click"],[1,"nav-link-icon"],[1,"title"],["fxFlex","",1,"title"],["class","s-18",4,"ngIf"],[1,"s-18"],["fxLayout","row","fxLayoutAlign","space-between center",1,"header","px-24",3,"ngClass"],["mat-icon-button","",3,"click"],[1,"s-16"],["fusePerfectScrollbar","",1,"content","p-8"]],template:function(e,t){1&e&&(A.Xb(0,"div",0),A.fc("click",(function(e){return e.stopPropagation()})),A.Oc(1,Ae,27,4,"div",1),A.Oc(2,Oe,9,2,"div",1),A.Wb()),2&e&&(A.qc("ngSwitch",t.view),A.Fb(1),A.qc("ngSwitchCase","main"),A.Fb(1),A.qc("ngSwitchCase","board-color"))},directives:[O.x,O.y,Z.f,Z.e,re.a,O.q,J.a,h.t,w.a,Z.b,O.t,xe.a,f.b,Ce],styles:["scrumboard-board-settings{display:flex;flex-direction:column;flex:1 0 auto;height:100%}scrumboard-board-settings .views{display:flex;flex-direction:column;position:relative;overflow:hidden;height:100%}scrumboard-board-settings .views .view{position:absolute;width:100%;height:100%;bottom:0;left:0;right:0;top:0;display:flex;flex-direction:column}scrumboard-board-settings .views .view>.header{flex:0 1 auto;height:64px;min-height:64px;border-bottom:1px solid}scrumboard-board-settings .views .view>.content{flex:1 1 auto;overflow-y:auto;-webkit-overflow-scrolling:touch}"],encapsulation:2,data:{animation:Y.a}}),Me),Qe=((Se=function e(t){a(this,e),this.dialogRef=t}).\u0275fac=function(e){return new(e||Se)(A.Rb(x.h))},Se.\u0275cmp=A.Lb({type:Se,selectors:[["fuse-confirm-dialog"]],decls:9,vars:1,consts:[["matDialogTitle",""],["mat-dialog-content",""],["mat-dialog-actions","",1,"pt-24"],["mat-raised-button","",1,"mat-accent","mr-16",3,"click"],["mat-button","",3,"click"]],template:function(e,t){1&e&&(A.Xb(0,"h1",0),A.Qc(1,"Confirm"),A.Wb(),A.Xb(2,"div",1),A.Qc(3),A.Wb(),A.Xb(4,"div",2),A.Xb(5,"button",3),A.fc("click",(function(){return t.dialogRef.close(!0)})),A.Qc(6,"Confirm"),A.Wb(),A.Xb(7,"button",4),A.fc("click",(function(){return t.dialogRef.close(!1)})),A.Qc(8,"Cancel"),A.Wb(),A.Wb()),2&e&&(A.Fb(3),A.Rc(t.confirmMessage))},directives:[x.i,x.f,x.c,f.b],styles:[""]}),Se),_e=o("mrSG"),De=o("d3UM"),je=o("sYmb");function Ee(e,t){if(1&e&&(A.Xb(0,"mat-option",5),A.Qc(1),A.Wb()),2&e){var a=t.$implicit;A.qc("value",a),A.Fb(1),A.Rc(a.name)}}var Re,Te=((Re=function(){function e(t,n,i,o,r){a(this,e),this.scrumService=t,this.entity=n,this.router=i,this.dialogRef=o,this.data=r}return i(e,[{key:"ngOnInit",value:function(){return Object(_e.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.scrumService.getBoards();case 2:this.boards=e.sent;case 3:case"end":return e.stop()}}),e,this)})))}},{key:"transfer",value:function(){this.dialogRef.close(),this.router.navigate(["apps","scrumboard","boards"])}},{key:"ngOnDestroy",value:function(){this.TransferSubscription&&this.TransferSubscription.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||Re)(A.Rb(N),A.Rb(T.a),A.Rb(m.h),A.Rb(x.h),A.Rb(x.a))},Re.\u0275cmp=A.Lb({type:Re,selectors:[["ng-component"]],decls:12,vars:12,consts:[[1,"accent"],["appearance","fill",1,"fullWidth"],[3,"value","valueChange"],[3,"value",4,"ngFor","ngForOf"],["mat-raised-button","","color","warn",1,"fullWidth",3,"disabled","click"],[3,"value"]],template:function(e,t){1&e&&(A.Xb(0,"h1",0),A.Qc(1),A.kc(2,"translate"),A.Wb(),A.Xb(3,"mat-form-field",1),A.Xb(4,"mat-label"),A.Qc(5),A.kc(6,"translate"),A.Wb(),A.Xb(7,"mat-select",2),A.fc("valueChange",(function(e){return t.selectedValue=e})),A.Oc(8,Ee,2,2,"mat-option",3),A.Wb(),A.Wb(),A.Xb(9,"button",4),A.fc("click",(function(){return t.transfer()})),A.Qc(10),A.kc(11,"translate"),A.Wb()),2&e&&(A.Fb(1),A.Sc(" ",A.lc(2,6,"Select Board To Transfer To It")," "),A.Fb(4),A.Sc(" ",A.lc(6,8,"Select Board To Transfer To It"),""),A.Fb(2),A.qc("value",t.selectedValue),A.Fb(1),A.qc("ngForOf",t.boards),A.Fb(1),A.qc("disabled",!t.selectedValue),A.Fb(1),A.Rc(A.lc(11,10,"Transfer")))},directives:[y.c,y.g,De.a,O.s,f.b,h.o],pipes:[je.d],styles:["mat-dialog-container[_ngcontent-%COMP%]{width:65vw!important}.fullWidth[_ngcontent-%COMP%]{width:100%!important}"]}),Re),Ne=o("ChV4"),Be=o("qwfY");function ze(e,t){if(1&e){var a=A.Yb();A.Xb(0,"div",10),A.Sb(1,"div",11),A.Xb(2,"mat-checkbox",12),A.fc("change",(function(){A.Ec(a);var e=t.$implicit,n=A.jc(2);return n.toggleInArray(e.id,n.card.idLabels),n.onCardLabelsChanged()})),A.Qc(3),A.Wb(),A.Xb(4,"button",13),A.Xb(5,"mat-icon",14),A.fc("click",(function(){A.Ec(a);var e=t.$implicit,n=A.jc(2);return n.labelsMenuView="edit",n.selectedLabel=e})),A.Qc(6,"mode_edit"),A.Wb(),A.Wb(),A.Wb()}if(2&e){var n=t.$implicit,i=A.jc(2);A.Fb(1),A.qc("ngClass",n.color),A.Fb(1),A.qc("checked",i.card.idLabels.indexOf(n.id)>-1),A.Fb(1),A.Sc(" ",n.name," ")}}function Pe(e,t){if(1&e){var a=A.Yb();A.Xb(0,"div",4),A.Xb(1,"div",5),A.Xb(2,"div"),A.Qc(3,"Labels"),A.Wb(),A.Xb(4,"button",6),A.fc("click",(function(){return A.Ec(a),A.jc().labelsMenuView="add"})),A.Xb(5,"mat-icon",7),A.Qc(6,"add"),A.Wb(),A.Xb(7,"span"),A.Qc(8,"Add"),A.Wb(),A.Wb(),A.Wb(),A.Xb(9,"div",8),A.Oc(10,ze,7,3,"div",9),A.Wb(),A.Wb()}if(2&e){var n=A.jc();A.Fb(10),A.qc("ngForOf",n.board.labels)}}function Ye(e,t){if(1&e){var a=A.Yb();A.Xb(0,"div",15),A.Xb(1,"div",16),A.Xb(2,"button",17),A.fc("click",(function(){return A.Ec(a),A.jc().labelsMenuView="labels"})),A.Xb(3,"mat-icon",7),A.Qc(4,"arrow_back"),A.Wb(),A.Wb(),A.Xb(5,"div"),A.Qc(6,"Edit Label"),A.Wb(),A.Wb(),A.Xb(7,"div",18),A.Xb(8,"mat-form-field"),A.Xb(9,"input",19),A.fc("ngModelChange",(function(e){return A.Ec(a),A.jc().selectedLabel.name=e}))("change",(function(){return A.Ec(a),A.jc().onLabelChange()})),A.Wb(),A.Wb(),A.Xb(10,"fuse-material-color-picker",20),A.fc("ngModelChange",(function(e){return A.Ec(a),A.jc().selectedLabel.color=e}))("colorChanged",(function(e){return A.Ec(a),A.jc().onLabelChange()})),A.Wb(),A.Wb(),A.Wb()}if(2&e){var n=A.jc();A.Fb(9),A.qc("ngModel",n.selectedLabel.name),A.Fb(1),A.qc("ngModel",n.selectedLabel.color)}}function Ve(e,t){if(1&e){var a=A.Yb();A.Xb(0,"div",21),A.Xb(1,"div",16),A.Xb(2,"button",17),A.fc("click",(function(){return A.Ec(a),A.jc().labelsMenuView="labels"})),A.Xb(3,"mat-icon",7),A.Qc(4,"arrow_back"),A.Wb(),A.Wb(),A.Xb(5,"div"),A.Qc(6,"Add Label"),A.Wb(),A.Wb(),A.Xb(7,"form",22,23),A.fc("submit",(function(){return A.Ec(a),A.jc().addNewLabel()})),A.Xb(9,"div",24),A.Xb(10,"mat-form-field",25),A.Xb(11,"input",26),A.fc("ngModelChange",(function(e){return A.Ec(a),A.jc().newLabel.name=e})),A.Wb(),A.Wb(),A.Xb(12,"fuse-material-color-picker",27),A.fc("ngModelChange",(function(e){return A.Ec(a),A.jc().newLabel.color=e})),A.Wb(),A.Wb(),A.Xb(13,"button",28),A.Qc(14,"ADD NEW LABEL"),A.Wb(),A.Wb(),A.Wb()}if(2&e){var n=A.Ac(8),i=A.jc();A.Fb(11),A.qc("ngModel",i.newLabel.name),A.Fb(1),A.qc("ngModel",i.newLabel.color),A.Fb(1),A.qc("disabled",!n.valid)}}var Ge,$e=((Ge=function(){function e(t){a(this,e),this._scrumboardService=t,this.cardLabelsChanged=new A.o,this.labelsMenuView="labels",this.newLabel={id:"",name:"",color:"blue-400"},this.toggleInArray=V.a.toggleInArray,this._unsubscribeAll=new z.a}return i(e,[{key:"ngOnInit",value:function(){var e=this;this._scrumboardService.onBoardChanged.pipe(Object(P.a)(this._unsubscribeAll)).subscribe((function(t){e.board=t}))}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"onCardLabelsChanged",value:function(){this.cardLabelsChanged.next()}},{key:"onLabelChange",value:function(){this._scrumboardService.updateBoard()}},{key:"addNewLabel",value:function(){this.newLabel.id=V.a.generateGUID(),this.board.labels.push(Object.assign({},this.newLabel)),this.newLabel.name="",this.labelsMenuView="labels"}}]),e}()).\u0275fac=function(e){return new(e||Ge)(A.Rb(N))},Ge.\u0275cmp=A.Lb({type:Ge,selectors:[["scrumboard-label-selector"]],inputs:{card:"card"},outputs:{cardLabelsChanged:"cardLabelsChanged"},decls:4,vars:4,consts:[[1,"views",3,"ngSwitch","click"],["class","view","fxFlex","","fxLayout","column",4,"ngSwitchCase"],["class","view edit","fxFlex","","fxLayout","column",4,"ngSwitchCase"],["class","view add","fxFlex","","fxLayout","column",4,"ngSwitchCase"],["fxFlex","","fxLayout","column",1,"view"],["fxLayout","row","fxLayoutAlign","space-between center",1,"header"],["mat-button","",3,"click"],[1,"s-16"],["fxFlex","","fxLayout","column","fusePerfectScrollbar",""],["class","label","fxFlex","0 0 auto","fxLayout","row","fxLayoutAlign","space-between center",4,"ngFor","ngForOf"],["fxFlex","0 0 auto","fxLayout","row","fxLayoutAlign","space-between center",1,"label"],[1,"label-color",3,"ngClass"],["fxFlex","","fxLayout","row","fxLayoutAlign","start center",3,"checked","change"],["mat-icon-button",""],[1,"s-16",3,"click"],["fxFlex","","fxLayout","column",1,"view","edit"],["fxLayout","row","fxLayoutAlign","start center",1,"header"],["mat-icon-button","",3,"click"],["fxLayout","row","fxLayoutAlign","start center",1,"content"],["matInput","","placeholder","Name",3,"ngModel","ngModelChange","change"],[1,"ml-8",3,"ngModel","ngModelChange","colorChanged"],["fxFlex","","fxLayout","column",1,"view","add"],["fxFlex","","fxLayout","column","fxLayoutAlign","start end",3,"submit"],["newLabelForm","ngForm"],["fxFlex","0 1 auto","fxLayout","row","fxLayoutAlign","space-between center"],["fxFlex",""],["matInput","","placeholder","Name","name","labelName","required","",3,"ngModel","ngModelChange"],["name","labelColor",1,"ml-8",3,"ngModel","ngModelChange"],["mat-raised-button","",1,"mat-accent","mt-16",3,"disabled"]],template:function(e,t){1&e&&(A.Xb(0,"div",0),A.fc("click",(function(e){return e.stopPropagation()})),A.Oc(1,Pe,11,1,"div",1),A.Oc(2,Ye,11,2,"div",2),A.Oc(3,Ve,15,3,"div",3),A.Wb()),2&e&&(A.qc("ngSwitch",t.labelsMenuView),A.Fb(1),A.qc("ngSwitchCase","labels"),A.Fb(1),A.qc("ngSwitchCase","edit"),A.Fb(1),A.qc("ngSwitchCase","add"))},directives:[O.x,O.y,Z.b,Z.f,Z.e,f.b,w.a,J.a,O.s,re.a,O.q,g.a,y.c,k.b,ce.d,ce.t,ce.w,Be.a,ce.J,ce.u,ce.v,ce.E],styles:[".scrumboard-labels-menu .mat-menu-content{padding-bottom:0}.scrumboard-labels-menu .mat-menu-content .mat-checkbox-label,.scrumboard-labels-menu .mat-menu-content .mat-checkbox-layout{display:flex;flex:1}.scrumboard-labels-menu .mat-menu-content .views{display:flex;flex-direction:column;position:relative;overflow:hidden;width:240px;min-width:240px;max-width:240px;min-height:240px}.scrumboard-labels-menu .mat-menu-content .views .view{position:absolute;width:240px;height:100%;bottom:0;left:0;right:0;top:0}.scrumboard-labels-menu .mat-menu-content .views .view>.header{border-bottom:1px solid rgba(0,0,0,.1);padding:4px 8px 8px 16px;margin-bottom:8px}.scrumboard-labels-menu .mat-menu-content .views .view .label{margin:0 8px 8px 16px}.scrumboard-labels-menu .mat-menu-content .views .view .label .label-color{width:8px;height:8px;border-radius:100%;margin-right:12px}.scrumboard-labels-menu .mat-menu-content .views .view.add>.header,.scrumboard-labels-menu .mat-menu-content .views .view.edit>.header{padding:0 8px 8px 0}.scrumboard-labels-menu .mat-menu-content .views .view.add form,.scrumboard-labels-menu .mat-menu-content .views .view.edit form{padding:0 16px 8px}.scrumboard-labels-menu .mat-menu-content .views .view.add form .mat-form-field-infix,.scrumboard-labels-menu .mat-menu-content .views .view.edit form .mat-form-field-infix{width:auto!important}.scrumboard-labels-menu .mat-menu-content .views .view.add .content,.scrumboard-labels-menu .mat-menu-content .views .view.edit .content{padding:8px 16px}.scrumboard-labels-menu .mat-menu-content .views .view.add .content .mat-form-field-infix,.scrumboard-labels-menu .mat-menu-content .views .view.edit .content .mat-form-field-infix{width:auto!important}"],encapsulation:2,data:{animation:Y.a}}),Ge),Ue=o("vVcS"),Ze=["checklistMenuTrigger"],Je=["newCheckListTitleField"];function He(e,t){if(1&e&&(A.Xb(0,"button",13),A.Xb(1,"mat-icon"),A.Qc(2,"today"),A.Wb(),A.Wb()),2&e){A.jc();var a=A.Ac(6);A.qc("matMenuTriggerFor",a)}}function Ke(e,t){if(1&e){var a=A.Yb();A.Xb(0,"mat-form-field"),A.Xb(1,"input",43),A.fc("ngModelChange",(function(e){return A.Ec(a),A.jc(2).card.due=e})),A.Wb(),A.Sb(2,"mat-datepicker-toggle",44),A.Sb(3,"mat-datepicker",null,45),A.Wb()}if(2&e){var n=A.Ac(4),i=A.jc(2);A.Fb(1),A.qc("matDatepicker",n)("ngModel",i.card.due),A.Fb(1),A.qc("for",n)}}function et(e,t){if(1&e){var a=A.Yb();A.Xb(0,"mat-checkbox",46),A.fc("change",(function(){A.Ec(a);var e=t.$implicit,n=A.jc(2);return n.toggleInArray(e.id,n.card.idMembers),n.updateCard()})),A.Xb(1,"div",47),A.Sb(2,"img",48),A.Xb(3,"p",49),A.Qc(4),A.Wb(),A.Wb(),A.Wb()}if(2&e){var n=t.$implicit,i=A.jc(2);A.qc("checked",i.card.idMembers.indexOf(n.id)>-1),A.Fb(2),A.qc("alt",n.name)("src",n.avatar,A.Gc),A.Fb(2),A.Rc(n.name)}}function tt(e,t){1&e&&(A.Xb(0,"mat-icon"),A.Qc(1,"visibility"),A.Wb())}function at(e,t){1&e&&(A.Xb(0,"mat-icon"),A.Qc(1,"visibility_off"),A.Wb())}function nt(e,t){if(1&e){var a=A.Yb();A.Xb(0,"button",10),A.fc("click",(function(){return A.Ec(a),A.jc(2).toggleSubscribe()})),A.Qc(1," Unsubscribe "),A.Wb()}}function it(e,t){if(1&e){var a=A.Yb();A.Xb(0,"button",10),A.fc("click",(function(){return A.Ec(a),A.jc(2).toggleSubscribe()})),A.Qc(1," Subscribe "),A.Wb()}}function ot(e,t){if(1&e){var a=A.Yb();A.Xb(0,"mat-toolbar",3),A.Xb(1,"div",4),A.Xb(2,"div",5),A.Xb(3,"div",6),A.Oc(4,He,3,1,"button",7),A.Xb(5,"mat-menu",8,9),A.Xb(7,"button",10),A.fc("click",(function(){return A.Ec(a),A.jc().removeDueDate()})),A.Qc(8,"Remove Due Date"),A.Wb(),A.Wb(),A.Oc(9,Ke,5,3,"mat-form-field",11),A.Wb(),A.Xb(10,"div",12),A.Xb(11,"button",13),A.Xb(12,"mat-icon"),A.Qc(13,"label"),A.Wb(),A.Wb(),A.Xb(14,"mat-menu",14,15),A.Xb(16,"scrumboard-label-selector",16),A.fc("cardLabelsChanged",(function(){return A.Ec(a),A.jc().updateCard()})),A.Wb(),A.Wb(),A.Wb(),A.Xb(17,"div",17),A.Xb(18,"button",18),A.Xb(19,"mat-icon"),A.Qc(20,"account_circle"),A.Wb(),A.Wb(),A.Xb(21,"mat-menu",8,19),A.Xb(23,"div",20),A.fc("click",(function(e){return A.Ec(a),e.stopPropagation()})),A.Oc(24,et,5,4,"mat-checkbox",21),A.Wb(),A.Wb(),A.Wb(),A.Xb(25,"button",22),A.fc("click",(function(){return A.Ec(a),A.jc().openAttachement()})),A.Xb(26,"mat-icon"),A.Qc(27,"attachment"),A.Wb(),A.Wb(),A.Xb(28,"div",6),A.Xb(29,"button",23,24),A.fc("menuOpened",(function(){return A.Ec(a),A.jc().onChecklistMenuOpen()})),A.Xb(31,"mat-icon"),A.Qc(32,"check_box"),A.Wb(),A.Wb(),A.Xb(33,"mat-menu",8,25),A.Xb(35,"form",26,27),A.fc("submit",(function(){A.Ec(a);var e=A.Ac(36);return A.jc().addChecklist(e)}))("click",(function(e){return A.Ec(a),e.stopPropagation()})),A.Xb(37,"mat-form-field",28),A.fc("click",(function(e){return A.Ec(a),e.stopPropagation()})),A.Xb(38,"mat-label"),A.Qc(39,"Checklist title"),A.Wb(),A.Sb(40,"input",29,30),A.Wb(),A.Xb(43,"button",31),A.Qc(44,"Add Checklist "),A.Wb(),A.Wb(),A.Wb(),A.Wb(),A.Xb(45,"div",32),A.Xb(46,"button",13),A.Oc(47,tt,2,0,"mat-icon",11),A.Oc(48,at,2,0,"mat-icon",11),A.Wb(),A.Xb(49,"mat-menu",8,33),A.Oc(51,nt,2,0,"button",34),A.Oc(52,it,2,0,"button",34),A.Wb(),A.Wb(),A.Xb(53,"div",35),A.Xb(54,"button",18),A.Xb(55,"mat-icon"),A.Qc(56,"more_horiz"),A.Wb(),A.Wb(),A.Xb(57,"mat-menu",8,36),A.Xb(59,"button",10),A.fc("click",(function(){return A.Ec(a),A.jc().removeCard()})),A.Qc(60),A.kc(61,"translate"),A.Wb(),A.Xb(62,"button",10),A.fc("click",(function(){return A.Ec(a),A.jc().TransferBoard()})),A.Qc(63),A.kc(64,"translate"),A.Wb(),A.Wb(),A.Wb(),A.Wb(),A.Xb(65,"button",37),A.Xb(66,"mat-icon"),A.Qc(67,"more_vert"),A.Wb(),A.Wb(),A.Xb(68,"mat-menu",null,38),A.Xb(70,"button",39),A.Xb(71,"mat-icon"),A.Qc(72,"add_task"),A.Wb(),A.Xb(73,"span"),A.Qc(74,"Done"),A.Wb(),A.Wb(),A.Xb(75,"button",40),A.Xb(76,"mat-icon"),A.Qc(77,"hourglass_top"),A.Wb(),A.Xb(78,"span"),A.Qc(79,"Negotiation"),A.Wb(),A.Wb(),A.Xb(80,"button",41),A.Xb(81,"mat-icon"),A.Qc(82,"disabled_by_default"),A.Wb(),A.Xb(83,"span"),A.Qc(84,"Lost"),A.Wb(),A.Wb(),A.Wb(),A.Xb(85,"button",42),A.fc("click",(function(){return A.Ec(a),A.jc().matDialogRef.close()})),A.Xb(86,"mat-icon"),A.Qc(87,"close"),A.Wb(),A.Wb(),A.Wb(),A.Wb()}if(2&e){var n=A.Ac(15),i=A.Ac(22),o=A.Ac(34),r=A.Ac(36),c=A.Ac(50),s=A.Ac(58),d=A.Ac(69),l=A.jc();A.Fb(4),A.qc("ngIf",l.card.due),A.Fb(1),A.qc("overlapTrigger",!1),A.Fb(4),A.qc("ngIf",!l.card.due),A.Fb(2),A.qc("matMenuTriggerFor",n),A.Fb(3),A.qc("overlapTrigger",!1),A.Fb(2),A.qc("card",l.card),A.Fb(2),A.qc("matMenuTriggerFor",i),A.Fb(3),A.qc("overlapTrigger",!1),A.Fb(3),A.qc("ngForOf",l.board.members),A.Fb(5),A.qc("matMenuTriggerFor",o),A.Fb(4),A.qc("overlapTrigger",!1),A.Fb(10),A.qc("disabled",!r.valid),A.Fb(3),A.qc("matMenuTriggerFor",c),A.Fb(1),A.qc("ngIf",l.card.subscribed),A.Fb(1),A.qc("ngIf",!l.card.subscribed),A.Fb(1),A.qc("overlapTrigger",!1),A.Fb(2),A.qc("ngIf",l.card.subscribed),A.Fb(1),A.qc("ngIf",!l.card.subscribed),A.Fb(2),A.qc("matMenuTriggerFor",s),A.Fb(3),A.qc("overlapTrigger",!1),A.Fb(3),A.Sc(" ",A.lc(61,23,"Remove Card")," "),A.Fb(3),A.Sc(" ",A.lc(64,25,"Transfer Card")," "),A.Fb(2),A.qc("matMenuTriggerFor",d)}}function rt(e,t){1&e&&A.Sb(0,"div",53)}function ct(e,t){if(1&e&&(A.Xb(0,"mat-chip",84),A.kc(1,"getById"),A.Xb(2,"span"),A.Qc(3),A.kc(4,"getById"),A.Wb(),A.Wb()),2&e){var a=t.$implicit,n=A.jc(4);A.qc("ngClass",A.nc(1,2,n.board.labels,a,"color")),A.Fb(3),A.Rc(A.nc(4,6,n.board.labels,a,"name"))}}function st(e,t){if(1&e&&(A.Xb(0,"div",81),A.Xb(1,"div",64),A.Xb(2,"mat-icon",65),A.Qc(3,"label"),A.Wb(),A.Xb(4,"span",66),A.Qc(5,"Labels"),A.Wb(),A.Wb(),A.Xb(6,"div",67),A.Xb(7,"mat-chip-list",82),A.Oc(8,ct,5,10,"mat-chip",83),A.Wb(),A.Wb(),A.Wb()),2&e){var a=A.jc(3);A.Fb(8),A.qc("ngForOf",a.card.idLabels)}}function dt(e,t){if(1&e&&(A.Xb(0,"div",88),A.Qc(1),A.Wb()),2&e){var a=t.$implicit;A.Fb(1),A.Sc(" ",a," ")}}function lt(e,t){if(1&e&&(A.Xb(0,"div",85),A.Xb(1,"div",64),A.Xb(2,"mat-icon",65),A.Qc(3,"supervisor_account"),A.Wb(),A.Xb(4,"span",66),A.Qc(5,"Members"),A.Wb(),A.Wb(),A.Xb(6,"div",67),A.Xb(7,"div",86),A.Oc(8,dt,2,1,"div",87),A.Wb(),A.Wb(),A.Wb()),2&e){var a=A.jc(3);A.Fb(8),A.qc("ngForOf",a.card.idMembers)}}function bt(e,t){if(1&e&&(A.Xb(0,"div",78),A.Oc(1,st,9,1,"div",79),A.Oc(2,lt,9,1,"div",80),A.Wb()),2&e){var a=A.jc(2);A.Fb(1),A.qc("ngIf",a.card.idLabels[0]),A.Fb(1),A.qc("ngIf",a.card.idMembers[0])}}function ut(e,t){if(1&e){var a=A.Yb();A.Xb(0,"div",105),A.Xb(1,"div",5),A.Xb(2,"mat-form-field",106),A.Xb(3,"input",107),A.fc("ngModelChange",(function(e){return A.Ec(a),t.$implicit.name=e})),A.Wb(),A.Xb(4,"mat-checkbox",108),A.fc("ngModelChange",(function(e){return A.Ec(a),t.$implicit.checked=e}))("change",(function(){A.Ec(a);var e=A.jc().$implicit;return A.jc(2).updateCheckedCount(e)})),A.Wb(),A.Xb(5,"button",109),A.fc("click",(function(){A.Ec(a);var e=t.$implicit,n=A.jc().$implicit;return A.jc(2).removeChecklistItem(e,n)})),A.Xb(6,"mat-icon",110),A.Qc(7,"delete"),A.Wb(),A.Wb(),A.Wb(),A.Wb(),A.Wb()}if(2&e){var n=t.$implicit;A.Fb(3),A.qc("ngModel",n.name),A.Fb(1),A.rc("aria-label",n.name),A.qc("ngModel",n.checked)}}function mt(e,t){if(1&e){var a=A.Yb();A.Xb(0,"div",62),A.Xb(1,"div",89),A.Xb(2,"div",64),A.Xb(3,"mat-icon",65),A.Qc(4,"check_box"),A.Wb(),A.Xb(5,"span",90),A.Qc(6),A.Wb(),A.Xb(7,"div"),A.Xb(8,"button",91),A.Xb(9,"mat-icon",52),A.Qc(10,"more_vert"),A.Wb(),A.Wb(),A.Xb(11,"mat-menu",null,92),A.Xb(13,"button",10),A.fc("click",(function(){A.Ec(a);var e=t.$implicit;return A.jc(2).removeChecklist(e)})),A.Xb(14,"mat-icon"),A.Qc(15,"delete"),A.Wb(),A.Xb(16,"span"),A.Qc(17,"Remove Checklist"),A.Wb(),A.Wb(),A.Wb(),A.Wb(),A.Wb(),A.Xb(18,"div",67),A.Xb(19,"div",93),A.Xb(20,"span",94),A.Qc(21),A.Wb(),A.Sb(22,"mat-progress-bar",95),A.Wb(),A.Xb(23,"div",96),A.Oc(24,ut,8,3,"div",97),A.Wb(),A.Xb(25,"form",98,99),A.fc("submit",(function(){A.Ec(a);var e=t.$implicit,n=A.Ac(26);return A.jc(2).addCheckItem(n,e)})),A.Xb(27,"div",100),A.Xb(28,"mat-form-field",101),A.Sb(29,"input",102,103),A.Wb(),A.Wb(),A.Xb(31,"button",104),A.Xb(32,"mat-icon"),A.Qc(33,"add"),A.Wb(),A.Wb(),A.Wb(),A.Wb(),A.Wb(),A.Wb()}if(2&e){var n=t.$implicit,i=A.Ac(12),o=A.Ac(26);A.Fb(6),A.Rc(n.name),A.Fb(2),A.qc("matMenuTriggerFor",i),A.Fb(13),A.Tc(" ",n.checkItemsChecked," / ",n.checkItems.length," "),A.Fb(1),A.rc("value",100*n.checkItemsChecked/n.checkItems.length),A.Fb(2),A.qc("ngForOf",n.checkItems),A.Fb(7),A.qc("disabled",!o.valid||o.pristine)}}function ft(e,t){if(1&e&&(A.Xb(0,"div",111),A.Xb(1,"div",112),A.Sb(2,"div",113),A.Xb(3,"div",114),A.Qc(4),A.Wb(),A.Xb(5,"div",115),A.Qc(6),A.Wb(),A.Wb(),A.Wb()),2&e){var a=t.$implicit;A.Fb(4),A.Rc(a.message),A.Fb(2),A.Rc(a.time)}}function gt(e,t){if(1&e&&(A.Xb(0,"div",118),A.Sb(1,"img",119),A.kc(2,"getById"),A.Xb(3,"div"),A.Xb(4,"div",47),A.Xb(5,"div",120),A.Qc(6),A.kc(7,"getById"),A.Wb(),A.Xb(8,"div",121),A.Qc(9),A.Wb(),A.Wb(),A.Xb(10,"div",122),A.Qc(11),A.Wb(),A.Wb(),A.Wb()),2&e){var a=t.$implicit,n=A.jc(3);A.Fb(1),A.qc("src",A.nc(2,4,n.board.members,a.idMember,"avatar"),A.Gc),A.Fb(5),A.Sc(" ",A.nc(7,8,n.board.members,a.idMember,"name")," "),A.Fb(3),A.Rc(a.message),A.Fb(2),A.Rc(a.time)}}function pt(e,t){if(1&e&&(A.Xb(0,"div",62),A.Xb(1,"div",116),A.Xb(2,"div",64),A.Xb(3,"mat-icon",65),A.Qc(4,"list"),A.Wb(),A.Xb(5,"span",66),A.Qc(6,"Activity"),A.Wb(),A.Wb(),A.Xb(7,"div",67),A.Oc(8,gt,12,12,"div",117),A.Wb(),A.Wb(),A.Wb()),2&e){var a=A.jc(2);A.Fb(8),A.qc("ngForOf",a.card.activities)}}var ht=function(e){return["/generic/Card/edit",e]};function vt(e,t){if(1&e){var a=A.Yb();A.Xb(0,"div",50),A.Xb(1,"div",51),A.Xb(2,"span"),A.Qc(3),A.Wb(),A.Xb(4,"mat-icon",52),A.Qc(5,"chevron_right"),A.Wb(),A.Xb(6,"span"),A.Qc(7),A.Wb(),A.Wb(),A.Xb(8,"div",47),A.Sb(9,"div",53),A.Oc(10,rt,1,0,"div",54),A.Wb(),A.Xb(11,"div",55),A.Xb(12,"mat-form-field",56),A.Xb(13,"mat-label"),A.Qc(14,"Due Date"),A.Wb(),A.Xb(15,"input",43),A.fc("ngModelChange",(function(e){return A.Ec(a),A.jc().card.due=e})),A.Wb(),A.Sb(16,"mat-datepicker-toggle",44),A.Sb(17,"mat-datepicker",null,57),A.Wb(),A.Xb(19,"button",58),A.fc("click",(function(){return A.Ec(a),A.jc().matDialogRef.close()})),A.Qc(20,"View Application"),A.Wb(),A.Wb(),A.Xb(21,"div",59),A.Oc(22,bt,3,2,"div",60),A.Oc(23,mt,34,7,"div",61),A.Xb(24,"div",62),A.Xb(25,"div",63),A.Xb(26,"div",64),A.Xb(27,"mat-icon",65),A.Qc(28,"comment"),A.Wb(),A.Xb(29,"span",66),A.Qc(30,"Comments"),A.Wb(),A.Wb(),A.Xb(31,"div",67),A.Xb(32,"form",68,69),A.fc("submit",(function(){A.Ec(a);var e=A.Ac(33);return A.jc().addNewComment(e)})),A.Xb(34,"div",70),A.Sb(35,"img",71),A.Xb(36,"mat-form-field",72),A.Xb(37,"mat-label"),A.Qc(38,"Comment"),A.Wb(),A.Sb(39,"input",73,74),A.Wb(),A.Xb(41,"button",75),A.Xb(42,"mat-icon"),A.Qc(43,"add"),A.Wb(),A.Wb(),A.Wb(),A.Wb(),A.Oc(44,ft,7,2,"div",76),A.Wb(),A.Wb(),A.Wb(),A.Oc(45,pt,9,1,"div",77),A.Wb(),A.Wb()}if(2&e){var n=A.Ac(18),i=A.Ac(33),o=A.jc();A.Fb(3),A.Rc(o.board.name),A.Fb(4),A.Rc(o.list.name),A.Fb(3),A.qc("ngIf",o.card.due),A.Fb(5),A.qc("matDatepicker",n)("ngModel",o.card.due),A.Fb(1),A.qc("for",n),A.Fb(3),A.qc("routerLink",A.uc(12,ht,o.card._id)),A.Fb(3),A.qc("ngIf",o.card.idLabels[0]||o.card.idMembers[0]),A.Fb(1),A.qc("ngForOf",o.card.checklists),A.Fb(18),A.qc("disabled",!i.valid||i.pristine),A.Fb(3),A.qc("ngForOf",o.card.comments),A.Fb(1),A.qc("ngIf",o.card.activities[0])}}var xt,yt=((xt=function(){function t(e,n,i,o,r){a(this,t),this.matDialogRef=e,this._data=n,this._matDialog=i,this._scrumboardService=o,this.override=r,this.toggleInArray=V.a.toggleInArray,this._unsubscribeAll=new z.a}return i(t,[{key:"ngOnInit",value:function(){var e=this;this._scrumboardService.onBoardChanged.pipe(Object(P.a)(this._unsubscribeAll)).subscribe((function(t){e.board=t,e.card=e.board.cards.find((function(t){return e._data.cardId===t.id})),e.list=e.board.lists.find((function(t){return e._data.listId===t.id}))}))}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"removeDueDate",value:function(){this.card.due="",this.updateCard()}},{key:"toggleSubscribe",value:function(){this.card.subscribed=!this.card.subscribed,this.updateCard()}},{key:"toggleCoverImage",value:function(e){this.card.idAttachmentCover=this.card.idAttachmentCover===e?"":e,this.updateCard()}},{key:"removeAttachment",value:function(e){e.id===this.card.idAttachmentCover&&(this.card.idAttachmentCover=""),this.card.attachments.splice(this.card.attachments.indexOf(e),1),this.updateCard()}},{key:"removeChecklist",value:function(e){this.card.checklists.splice(this.card.checklists.indexOf(e),1),this.updateCard()}},{key:"updateCheckedCount",value:function(t){var a,n=0,i=0,o=0,r=e(t.checkItems);try{for(r.s();!(a=r.n()).done;)a.value.checked&&n++}catch(l){r.e(l)}finally{r.f()}t.checkItemsChecked=n;var c,s=e(this.card.checklists);try{for(s.s();!(c=s.n()).done;){var d=c.value;o+=d.checkItems.length,i+=d.checkItemsChecked}}catch(l){s.e(l)}finally{s.f()}this.card.checkItems=o,this.card.checkItemsChecked=i,this.updateCard()}},{key:"removeChecklistItem",value:function(e,t){t.checkItems.splice(t.checkItems.indexOf(e),1),this.updateCheckedCount(t),this.updateCard()}},{key:"addCheckItem",value:function(e,t){var a=e.value.checkItem;a&&""!==a&&(t.checkItems.push({name:a,checked:!1}),this.updateCheckedCount(t),e.setValue({checkItem:""}),this.updateCard())}},{key:"addChecklist",value:function(e){this.card.checklists.push({id:V.a.generateGUID(),name:e.value.checklistTitle,checkItemsChecked:0,checkItems:[]}),e.setValue({checklistTitle:""}),e.resetForm(),this.checklistMenu.closeMenu(),this.updateCard()}},{key:"onChecklistMenuOpen",value:function(){var e=this;setTimeout((function(){e.newCheckListTitleField.nativeElement.focus()}))}},{key:"addNewComment",value:function(e){var t=e.value.newComment,a={idMember:atob(sessionStorage.getItem(btoa("user.id"))),message:t,time:(new Date).toLocaleString("en")};this.card.comments.unshift(a),e.setValue({newComment:""}),this.updateCard()}},{key:"removeCard",value:function(){var e=this;this.confirmDialogRef=this._matDialog.open(Qe,{disableClose:!1}),this.confirmDialogRef.componentInstance.confirmMessage="Are you sure you want to delete the card?",this.confirmDialogRef.afterClosed().subscribe((function(t){t&&(e.matDialogRef.close(),e._scrumboardService.removeCard(e.card.id,e.list.id))}))}},{key:"TransferBoard",value:function(){this.trasferDialogRef=this._matDialog.open(Te,{disableClose:!1,data:{card:this.card,list:this.list}})}},{key:"updateCard",value:function(){this._scrumboardService.updateCard(this.card)}},{key:"openAttachement",value:function(){console.log("attttttttttttt")}}]),t}()).\u0275fac=function(e){return new(e||xt)(A.Rb(x.h),A.Rb(x.a),A.Rb(x.b),A.Rb(N),A.Rb(Ne.a))},xt.\u0275cmp=A.Lb({type:xt,selectors:[["scrumboard-board-card-dialog"]],viewQuery:function(e,t){var a;1&e&&(A.Vc(Ze,!0),A.Vc(Je,!0)),2&e&&(A.zc(a=A.gc())&&(t.checklistMenu=a.first),A.zc(a=A.gc())&&(t.newCheckListTitleField=a.first))},decls:3,vars:2,consts:[[1,"dialog-content-wrapper"],["matDialogTitle","","class","accent m-0","fxFlex","1 0 auto","fxLayout","row",4,"ngIf"],["mat-dialog-content","","class","py-24 px-0 m-0","fusePerfectScrollbar","",4,"ngIf"],["matDialogTitle","","fxFlex","1 0 auto","fxLayout","row",1,"accent","m-0"],["fxFlex","","fxLayout","row","fxLayoutAlign","space-between center"],["fxFlex","","fxLayout","row","fxLayoutAlign","start center"],["fxFlex","0 1 auto",1,"due-date"],["mat-icon-button","",3,"matMenuTriggerFor",4,"ngIf"],[3,"overlapTrigger"],["dueDateMenu","matMenu"],["mat-menu-item","",3,"click"],[4,"ngIf"],["fxFlex","0 1 auto",1,"labels"],["mat-icon-button","",3,"matMenuTriggerFor"],[1,"scrumboard-labels-menu",3,"overlapTrigger"],["labelsMenu","matMenu"],[3,"card","cardLabelsChanged"],["fxFlex","0 1 auto",1,"members"],["mat-icon-button","",1,"",3,"matMenuTriggerFor"],["membersMenu","matMenu"],["fxFlex","","fxLayout","column",1,"scrumboard-members-menu",3,"click"],["class","member px-16",3,"checked","change",4,"ngFor","ngForOf"],["mat-icon-button","","aria-label","Attachment",3,"click"],["mat-icon-button","",1,"",3,"matMenuTriggerFor","menuOpened"],["checklistMenuTrigger","matMenuTrigger"],["checklistMenu","matMenu"],["fxLayout","column","fxLayoutAlign","start end",1,"px-16","py-8",3,"submit","click"],["newChecklistForm","ngForm"],["appearance","outline","fxFlex","",3,"click"],["matInput","","ngModel","","name","checklistTitle","required",""],["newCheckListTitleField","","checklistTitle","ngModel"],["mat-raised-button","","aria-label","Add Checklist",1,"mat-accent",3,"disabled"],["fxFlex","0 1 auto",1,"subscribe"],["subscribeMenu","matMenu"],["mat-menu-item","",3,"click",4,"ngIf"],["fxFlex","0 1 auto",1,"options"],["optionsMenu","matMenu"],["mat-icon-button","","aria-label","Example icon-button with a menu",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","","color","primary"],["mat-menu-item","","color","accent"],["mat-menu-item","","color","warn"],["mat-icon-button","","aria-label","Close Dialog",3,"click"],["matInput","",3,"matDatepicker","ngModel","ngModelChange"],["matSuffix","",3,"for"],["menuPicker",""],[1,"member","px-16",3,"checked","change"],["fxLayout","row","fxLayoutAlign","start center"],[1,"avatar",3,"alt","src"],[1,"member-name"],["mat-dialog-content","","fusePerfectScrollbar","",1,"py-24","px-0","m-0"],["fxLayout","row","fxLayoutAlign","start center",1,"card-breadcrumb","mt-8","mb-32","px-24"],[1,"s-20"],["fxLayout","row","fxLayoutAlign","start center",1,"card-name","px-24"],["class","card-name px-24","fxLayout","row","fxLayoutAlign","start center",4,"ngIf"],[1,"description","px-24","mb-16"],["appearance","outline",1,"w-100-p"],["picker",""],["mat-raised-button","","color","primary",3,"routerLink","click"],[1,"sections"],["class","section","fxLayout","column","fxLayout.gt-xs","row",4,"ngIf"],["class","section",4,"ngFor","ngForOf"],[1,"section"],[1,"comments"],["fxLayout","row","fxLayoutAlign","start center",1,"section-header"],[1,"mr-8"],[1,"section-title"],[1,"section-content"],["name","cardCommentForm","fxLayout","column","fxLayoutAlign","start","no-validate","",1,"comment","new-comment",3,"submit"],["newCommentForm","ngForm"],["fxLayout","row","fxLayoutAlign","center center"],["src","assets/images/avatars/profile.jpg",1,"comment-member-avatar"],["appearance","outline","fxFlex","",1,"mr-12"],["matInput","","name","newComment","ngModel","","required",""],["newComment","ngModel"],["mat-mini-fab","","aria-label","Add",1,"mat-accent",3,"disabled"],["class","comment","fxLayout","row","fxLayoutAlign","start center",4,"ngFor","ngForOf"],["class","section",4,"ngIf"],["fxLayout","column","fxLayout.gt-xs","row",1,"section"],["fxFlex","","class","labels",4,"ngIf"],["fxFlex","","class","members",4,"ngIf"],["fxFlex","",1,"labels"],[1,"label-chips"],["class","label-chip mb-4","fxLayout","row","fxLayoutAlign","start center",3,"ngClass",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","start center",1,"label-chip","mb-4",3,"ngClass"],["fxFlex","",1,"members"],["fxLayout","row","fxLayoutWrap","",1,"member-chips"],["class","member-chip mb-4","fxLayout","row","fxLayoutAlign","start center",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","start center",1,"member-chip","mb-4"],[1,"checklist"],["fxFlex","",1,"section-title"],["mat-icon-button","",1,"checklist-actions-button",3,"matMenuTriggerFor"],["checklistActionsMenu","matMenu"],["fxLayout","row","fxLayoutAlign","start center",1,"checklist-progress"],[1,"checklist-progress-value"],["color","accent","mode","determinate",1,"checklist-progressbar",3,"value"],[1,"check-items"],["class","check-item","fxLayout","row","fxLayoutAlign","space-between center",4,"ngFor","ngForOf"],["name","newCheckItemForm","fxLayout","row","fxLayoutAlign","start center",1,"new-check-item-form",3,"submit"],["newCheckItemForm","ngForm"],["fxLayout","row","fxLayoutAlign","start center","fxFlex",""],["appearance","outline","fxFlex","",1,"no-errors-spacer","mr-16"],["matInput","","ngModel","","name","checkItem","autocomplete","off","placeholder","New checklist item"],["checkItem","ngModel"],["mat-mini-fab","","color","accent","aria-label","Add",3,"disabled"],["fxLayout","row","fxLayoutAlign","space-between center",1,"check-item"],["appearance","outline","fxFlex",""],["matInput","",3,"ngModel","ngModelChange"],["matPrefix","",3,"ngModel","aria-label","ngModelChange","change"],["mat-icon-button","","matSuffix","",1,"checklist-actions-button",3,"click"],[1,"secondary-text"],["fxLayout","row","fxLayoutAlign","start center",1,"comment"],["fxLayout","column"],[1,"comment-member-name"],[1,"comment-bubble"],[1,"comment-time","secondary-text"],[1,"activities"],["class","activity","fxLayout","row","fxLayoutAlign","start center",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","start center",1,"activity"],[1,"activity-member-avatar",3,"src"],[1,"activity-member-name"],[1,"activity-message"],[1,"activity-time","mt-4","secondary-text"]],template:function(e,t){1&e&&(A.Xb(0,"div",0),A.Oc(1,ot,88,27,"mat-toolbar",1),A.Oc(2,vt,46,14,"div",2),A.Wb()),2&e&&(A.Fb(1),A.qc("ngIf",t.card),A.Fb(1),A.qc("ngIf",t.card))},directives:[O.t,L.a,x.i,Z.b,Z.f,Z.e,W.e,W.b,f.b,W.d,w.a,$e,O.s,ce.J,ce.u,ce.v,y.c,y.g,k.b,ce.d,ce.t,ce.w,ce.E,v.h,v.j,y.j,v.f,g.a,x.f,J.a,m.i,p.d,p.a,re.a,O.q,F.a,y.i],pipes:[je.d,Ue.a],styles:["@media screen and (max-width:599px){.scrumboard-card-dialog{width:100%}}@media screen and (min-width:600px){.scrumboard-card-dialog{width:720px}}.scrumboard-card-dialog .mat-dialog-container{padding:0}.scrumboard-card-dialog .mat-dialog-container .mat-toolbar .due-date .mat-form-field{width:auto;margin:0 8px}.scrumboard-card-dialog .mat-dialog-container .mat-toolbar .due-date .mat-form-field .mat-form-field-wrapper{padding:0}.scrumboard-card-dialog .mat-dialog-container .mat-toolbar .due-date .mat-form-field .mat-form-field-wrapper .mat-form-field-flex{align-items:center}.scrumboard-card-dialog .mat-dialog-container .mat-toolbar .due-date .mat-form-field .mat-form-field-wrapper .mat-form-field-flex .mat-form-field-infix,.scrumboard-card-dialog .mat-dialog-container .mat-toolbar .due-date .mat-form-field .mat-form-field-wrapper .mat-form-field-flex .mat-input-element{display:none}.scrumboard-card-dialog .mat-dialog-container .mat-toolbar .due-date .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.scrumboard-card-dialog .mat-dialog-container .mat-toolbar .due-date .mat-form-field-suffix .mat-datepicker-toggle-default-icon{width:24px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content{position:relative}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .card-breadcrumb{font-weight:600;font-size:16px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .card-subscribe{margin-right:8px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .picker{width:140px;min-width:140px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .card-name{width:100%;font-size:22px}@media screen and (max-width:599px){.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .card-name{font-size:14px}}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section{border-bottom:1px solid;padding:0 24px;margin-bottom:32px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section:last-child{border-bottom:none;margin-bottom:0}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section:last-child .section-content{padding-bottom:0}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .section-header{font-size:16px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .section-header .section-title{font-weight:600}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .section-content{padding:24px 16px 32px 32px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .labels .section-content{padding:8px 0 32px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .labels .label-chips{box-shadow:none;padding:0}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .labels .label-chips .label-chip{display:block}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .labels .label-chips .label-chip .chip-remove{cursor:pointer}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .members .section-content{padding:8px 0 32px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .members .member-chips{box-shadow:none;padding:0}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .members .member-chips .member-chip{margin:4px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .members .member-chips .member-chip .member-chip-avatar{width:32px;border-radius:50%}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .members .member-chips .member-chip .chip-remove{cursor:pointer}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .attachments .attachment{padding:0 24px 24px 0}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .attachments .attachment .attachment-preview{font-weight:600;border-radius:4px;overflow:hidden}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .attachments .attachment .attachment-content .attachment-name,.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .attachments .attachment .attachment-content .attachment-url{font-weight:600;font-size:16px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .attachments .attachment .attachment-content .attachment-is-cover{margin-left:6px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .attachments .add-attachment-button{margin:0}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .attachments .add-attachment-button mat-icon{margin-right:8px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .checklist .checklist-progress{margin:0 0 16px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .checklist .checklist-progress .checklist-progress-value{margin-right:12px;font-weight:600;white-space:nowrap;font-size:14px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .checklist .editable-wrap{flex:1}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .checklist .check-items .check-item mat-checkbox{position:relative;top:-5px;margin:0 12px 0 3px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .checklist .check-items .check-item mat-checkbox .mat-label{font-size:14px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .checklist .check-items .check-item mat-checkbox.mat-checked .mat-label{text-decoration:line-through}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .checklist .check-items .check-item .checklist-actions-button{position:relative;top:2px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .checklist .check-items .check-item mat-form-field.mat-form-field-appearance-outline .mat-form-field-outline{top:0}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .checklist .check-items .check-item mat-form-field .mat-form-field-wrapper{padding:0}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .checklist .check-items .check-item mat-form-field .mat-form-field-wrapper .mat-form-field-infix{border-top:0}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .checklist .new-check-item-form{margin:32px 0 0}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .checklist .new-check-item-form mat-form-field.mat-form-field-appearance-outline .mat-form-field-outline{top:0}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .checklist .new-check-item-form mat-form-field .mat-form-field-wrapper{padding:0}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .checklist .new-check-item-form mat-form-field .mat-form-field-wrapper .mat-form-field-infix{border-top:0}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .comments .comment{margin:0 0 24px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .comments .comment .comment-member-avatar{width:32px;height:32px;border-radius:50%;margin-right:16px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .comments .comment .comment-member-name{font-size:14px;font-weight:600}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .comments .comment .comment-time{font-size:12px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .comments .comment .comment-bubble{position:relative;padding:8px 12px;border:1px solid;font-size:14px;margin:6px 0;border-radius:20px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .comments .comment.new-comment{margin:0 0 24px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .comments .comment.new-comment mat-form-field .mat-form-field-wrapper{padding:0}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .activities .activity{margin-bottom:16px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .activities .activity .activity-member-avatar{width:32px;height:32px;border-radius:50%;margin-right:16px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .activities .activity .activity-member-name{font-size:14px;font-weight:600;margin-right:5px;white-space:nowrap}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .activities .activity .activity-message{font-size:14px;margin-right:8px;white-space:nowrap}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .activities .activity .activity-time{font-size:12px}.scrumboard-card-dialog .dialog-content-wrapper{max-height:85vh;display:flex;flex-direction:column}.scrumboard-members-menu{width:240px}.scrumboard-members-menu .mat-checkbox-label,.scrumboard-members-menu .mat-checkbox-layout{display:flex;flex:1}.scrumboard-labels-menu .mat-menu-content{padding-bottom:0}.scrumboard-labels-menu .mat-menu-content .mat-checkbox-label,.scrumboard-labels-menu .mat-menu-content .mat-checkbox-layout{display:flex;flex:1}.scrumboard-labels-menu .mat-menu-content .views{display:flex;flex-direction:column;position:relative;overflow:hidden;width:240px;min-width:240px;max-width:240px;min-height:240px}.scrumboard-labels-menu .mat-menu-content .views .view{position:absolute;width:240px;height:100%;bottom:0;left:0;right:0;top:0}.scrumboard-labels-menu .mat-menu-content .views .view>.header{border-bottom:1px solid}"],encapsulation:2}),xt),wt=function e(t){a(this,e);var n=new Date;n.setDate(n.getDate()+7),this.id=t.id||V.a.generateGUID(),this.name=t.name||t.firstName+" "+t.lastName||"",this.email=t.email||"",this.firstName=t.firstName||"",this.lastName=t.lastName||"",this.mobile=t.mobile||"",this.description=t.description||"",this.idAttachmentCover=t.idAttachmentCover||"",this.idMembers=t.idMembers||[],this.idLabels=t.idLabels||[],this.attachments=t.attachments||[],this.subscribed=t.subscribed||!0,this.checklists=t.checklists||[],this.checkItems=t.checkItems||0,this.checkItemsChecked=t.checkItemsChecked||0,this.comments=t.comments||[],this.activities=t.activities||[],this.due=t.due||n},kt=["nameInput"];function Xt(e,t){if(1&e){var a=A.Yb();A.Xb(0,"div",2),A.fc("click",(function(){return A.Ec(a),A.jc().openForm()})),A.Qc(1),A.Wb()}if(2&e){var n=A.jc();A.Fb(1),A.Sc(" ",n.list.name,"\n")}}function Wt(e,t){if(1&e){var a=A.Yb();A.Xb(0,"form",3),A.fc("ngSubmit",(function(){return A.Ec(a),A.jc().onFormSubmit()})),A.Sb(1,"input",4,5),A.Xb(3,"button",6),A.Xb(4,"mat-icon"),A.Qc(5,"check"),A.Wb(),A.Wb(),A.Xb(6,"button",7),A.fc("click",(function(){return A.Ec(a),A.jc().closeForm()})),A.Xb(7,"mat-icon"),A.Qc(8,"close"),A.Wb(),A.Wb(),A.Wb()}if(2&e){var n=A.jc();A.qc("formGroup",n.form)}}var Ft,Ct=((Ft=function(){function e(t){a(this,e),this._formBuilder=t,this.formActive=!1,this.listNameChanged=new A.o}return i(e,[{key:"openForm",value:function(){this.form=this._formBuilder.group({name:[this.list.name]}),this.formActive=!0,this.focusNameField()}},{key:"closeForm",value:function(){this.formActive=!1}},{key:"focusNameField",value:function(){var e=this;setTimeout((function(){e.nameInputField.nativeElement.focus()}))}},{key:"onFormSubmit",value:function(){this.form.valid&&(this.list.name=this.form.getRawValue().name,this.listNameChanged.next(this.list.name),this.formActive=!1)}}]),e}()).\u0275fac=function(e){return new(e||Ft)(A.Rb(ce.g))},Ft.\u0275cmp=A.Lb({type:Ft,selectors:[["scrumboard-board-edit-list-name"]],viewQuery:function(e,t){var a;1&e&&A.Vc(kt,!0),2&e&&A.zc(a=A.gc())&&(t.nameInputField=a.first)},inputs:{list:"list"},outputs:{listNameChanged:"listNameChanged"},decls:2,vars:2,consts:[["fxFlex","1 0 auto","class","list-header-name",3,"click",4,"ngIf"],["class","list-header-name-form","fxLayout","row","fxFlex","1 0 auto",3,"formGroup","ngSubmit",4,"ngIf"],["fxFlex","1 0 auto",1,"list-header-name",3,"click"],["fxLayout","row","fxFlex","1 0 auto",1,"list-header-name-form",3,"formGroup","ngSubmit"],["formControlName","name","fxFlex","","placeholder","Write a list Name"],["nameInput",""],["mat-icon-button","","fxFlex","0 1 auto"],["mat-icon-button","","fxFlex","0 1 auto","type","button",3,"click"]],template:function(e,t){1&e&&(A.Oc(0,Xt,2,1,"div",0),A.Oc(1,Wt,9,1,"form",1)),2&e&&(A.qc("ngIf",!t.formActive),A.Fb(1),A.qc("ngIf",t.formActive))},directives:[O.t,Z.b,ce.J,ce.u,Z.f,ce.l,ce.d,ce.t,ce.j,f.b,w.a],styles:["scrumboard-board-edit-list-name .list-header-name{text-overflow:ellipsis;overflow:hidden;font-size:15px;font-weight:600;cursor:pointer}"],encapsulation:2}),Ft),Lt=o("wd/R");function It(e,t){if(1&e&&(A.Xb(0,"div",12),A.Sb(1,"img",13),A.kc(2,"getById"),A.Wb()),2&e){var a=A.jc();A.Fb(1),A.qc("src",A.nc(2,1,null==a.card?null:a.card.attachments,a.card.idAttachmentCover,"src"),A.Gc)}}function At(e,t){if(1&e&&(A.Sb(0,"span",16),A.kc(1,"getById"),A.kc(2,"getById")),2&e){var a=t.$implicit,n=A.jc(2);A.qc("ngClass",A.nc(1,2,n.board.labels,a,"color"))("matTooltip",A.nc(2,6,n.board.labels,a,"name"))}}function Ot(e,t){if(1&e&&(A.Xb(0,"div",14),A.Oc(1,At,3,10,"span",15),A.Wb()),2&e){var a=A.jc();A.Fb(1),A.qc("ngForOf",a.card.idLabels)}}var St=function(e){return{overdue:e}};function Mt(e,t){if(1&e&&(A.Xb(0,"span",20),A.Xb(1,"mat-icon",21),A.Qc(2,"access_time"),A.Wb(),A.Xb(3,"span"),A.Qc(4),A.kc(5,"date"),A.Wb(),A.Wb()),2&e){var a=A.jc(2);A.qc("ngClass",A.uc(5,St,a.isOverdue(a.card.due))),A.Fb(4),A.Rc(A.mc(5,2,a.card.due,"mediumDate"))}}var qt=function(e){return{completed:e}};function Qt(e,t){if(1&e&&(A.Xb(0,"span",22),A.Xb(1,"mat-icon",21),A.Qc(2,"check_circle"),A.Wb(),A.Xb(3,"span"),A.Qc(4),A.Wb(),A.Xb(5,"span"),A.Qc(6,"/"),A.Wb(),A.Xb(7,"span"),A.Qc(8),A.Wb(),A.Wb()),2&e){var a=A.jc(2);A.qc("ngClass",A.uc(3,qt,a.card.checkItemsChecked===a.card.checkItems)),A.Fb(4),A.Rc(a.card.checkItemsChecked),A.Fb(4),A.Rc(a.card.checkItems)}}function _t(e,t){if(1&e&&(A.Xb(0,"div",17),A.Oc(1,Mt,6,7,"span",18),A.Oc(2,Qt,9,5,"span",19),A.Wb()),2&e){var a=A.jc();A.Fb(1),A.qc("ngIf",a.card.due),A.Fb(1),A.qc("ngIf",a.card.checkItems)}}function Dt(e,t){if(1&e&&(A.Xb(0,"div",25),A.Qc(1),A.Wb()),2&e){var a=t.$implicit;A.Fb(1),A.Sc(" ",a," ")}}function jt(e,t){if(1&e&&(A.Xb(0,"div",23),A.Oc(1,Dt,2,1,"div",24),A.Wb()),2&e){var a=A.jc();A.Fb(1),A.qc("ngForOf",a.card.idMembers)}}function Et(e,t){1&e&&(A.Xb(0,"span",26),A.Xb(1,"mat-icon",27),A.Qc(2,"remove_red_eye"),A.Wb(),A.Wb())}function Rt(e,t){1&e&&(A.Xb(0,"span",26),A.Xb(1,"mat-icon",27),A.Qc(2,"description"),A.Wb(),A.Wb())}function Tt(e,t){if(1&e&&(A.Xb(0,"span",26),A.Xb(1,"mat-icon",27),A.Qc(2,"attachment"),A.Wb(),A.Xb(3,"span",28),A.Qc(4),A.Wb(),A.Wb()),2&e){var a=A.jc();A.Fb(4),A.Rc(a.card.attachments.length)}}function Nt(e,t){if(1&e&&(A.Xb(0,"span",26),A.Xb(1,"mat-icon",27),A.Qc(2,"comment"),A.Wb(),A.Xb(3,"span",28),A.Qc(4),A.Wb(),A.Wb()),2&e){var a=A.jc();A.Fb(4),A.Rc(a.card.comments.length)}}var Bt,zt=((Bt=function(){function e(t){a(this,e),this._activatedRoute=t}return i(e,[{key:"ngOnInit",value:function(){var e=this;this.board=this._activatedRoute.snapshot.data.board,this.card=this.board.cards.filter((function(t){return e.cardId===t.id}))[0]}},{key:"isOverdue",value:function(e){return Lt()>Lt(new Date(e))}}]),e}()).\u0275fac=function(e){return new(e||Bt)(A.Rb(m.a))},Bt.\u0275cmp=A.Lb({type:Bt,selectors:[["scrumboard-board-card"]],inputs:{cardId:"cardId"},decls:16,vars:9,consts:[["class","list-card-cover",4,"ngIf"],[1,"list-card-details"],[1,"list-card-sort-handle"],["mat-font-icon","icon-cursor-move",1,"icon","s16"],["class","list-card-labels","fxLayout","row wrap",4,"ngIf"],[1,"list-card-name"],["class","list-card-badges","fxLayout","row","fxLayoutAlign","start center",4,"ngIf"],["class","list-card-members","fxLayout","row",4,"ngIf"],["fxLayout","row","fxLayoutAlign","space-between center",1,"list-card-footer"],["fxLayout","row","fxLayoutAlign","start center"],["class","list-card-footer-item","fxLayout","row","fxLayoutAlign","start center",4,"ngIf"],["fxLayout","row","fxLayoutAlign","end center"],[1,"list-card-cover"],[3,"src"],["fxLayout","row wrap",1,"list-card-labels"],["class","list-card-label",3,"ngClass","matTooltip",4,"ngFor","ngForOf"],[1,"list-card-label",3,"ngClass","matTooltip"],["fxLayout","row","fxLayoutAlign","start center",1,"list-card-badges"],["class","badge due-date","fxLayout","row","fxLayoutAlign","start center",3,"ngClass",4,"ngIf"],["class","badge check-items","fxLayout","row","fxLayoutAlign","start center",3,"ngClass",4,"ngIf"],["fxLayout","row","fxLayoutAlign","start center",1,"badge","due-date",3,"ngClass"],[1,"s-16"],["fxLayout","row","fxLayoutAlign","start center",1,"badge","check-items",3,"ngClass"],["fxLayout","row",1,"list-card-members"],["class","list-card-member",4,"ngFor","ngForOf"],[1,"list-card-member"],["fxLayout","row","fxLayoutAlign","start center",1,"list-card-footer-item"],[1,"s-18"],[1,"value"]],template:function(e,t){1&e&&(A.Oc(0,It,3,5,"div",0),A.Xb(1,"div",1),A.Xb(2,"div",2),A.Sb(3,"mat-icon",3),A.Wb(),A.Oc(4,Ot,2,1,"div",4),A.Xb(5,"div",5),A.Qc(6),A.Wb(),A.Oc(7,_t,3,2,"div",6),A.Oc(8,jt,2,1,"div",7),A.Wb(),A.Xb(9,"div",8),A.Xb(10,"div",9),A.Oc(11,Et,3,0,"span",10),A.Oc(12,Rt,3,0,"span",10),A.Wb(),A.Xb(13,"div",11),A.Oc(14,Tt,5,1,"span",10),A.Oc(15,Nt,5,1,"span",10),A.Wb(),A.Wb()),2&e&&(A.qc("ngIf",(null==t.board||null==t.board.settings?null:t.board.settings.cardCoverImages)&&(null==t.card?null:t.card.idAttachmentCover)),A.Fb(4),A.qc("ngIf",(null==t.card||null==t.card.idLabels?null:t.card.idLabels.length)>0),A.Fb(2),A.Sc("",t.card.name," "),A.Fb(1),A.qc("ngIf",t.card.due||t.card.checkItems),A.Fb(1),A.qc("ngIf",t.card.idMembers.length>0),A.Fb(3),A.qc("ngIf",t.card.subscribed),A.Fb(1),A.qc("ngIf",""!==t.card.description),A.Fb(2),A.qc("ngIf",t.card.attachments),A.Fb(1),A.qc("ngIf",t.card.comments))},directives:[O.t,w.a,Z.f,Z.e,O.s,re.a,O.q,I.a],pipes:[Ue.a,O.f],styles:['scrumboard-board-card{position:relative;display:block;width:100%;margin:16px 0!important;border-radius:4px;border:1px solid;cursor:pointer}scrumboard-board-card .list-card-sort-handle{display:none;position:absolute;top:0;right:0;padding:4px;background:hsla(0,0%,100%,.8)}scrumboard-board-card .list-card-details{padding:16px 16px 0}scrumboard-board-card .list-card-details .list-card-labels{margin-bottom:6px}scrumboard-board-card .list-card-details .list-card-labels .list-card-label{width:32px;height:6px;border-radius:6px;margin:0 6px 6px 0}scrumboard-board-card .list-card-details .list-card-name{font-size:14px;font-weight:600;margin-bottom:12px}scrumboard-board-card .list-card-details .list-card-badges{margin-bottom:12px}scrumboard-board-card .list-card-details .list-card-badges .badge{margin-right:8px;padding:4px 8px;border-radius:2px}scrumboard-board-card .list-card-details .list-card-badges .badge mat-icon{margin-right:4px}scrumboard-board-card .list-card-details .list-card-members{margin-bottom:12px}scrumboard-board-card .list-card-details .list-card-members .list-card-member{margin-right:8px}scrumboard-board-card .list-card-details .list-card-members .list-card-member .list-card-member-avatar{border-radius:50%;width:32px;height:32px}scrumboard-board-card .list-card-footer{border-top:1px solid;padding:0 16px}scrumboard-board-card .list-card-footer .list-card-footer-item{height:48px;margin-right:12px}scrumboard-board-card .list-card-footer .list-card-footer-item .value{padding-left:8px}scrumboard-board-card .list-card-footer .list-card-footer-item:last-of-type{margin-right:0}scrumboard-board-card .ngx-dnd-content{-webkit-user-select:none;-moz-user-select:none;user-select:none}scrumboard-board-card.gu-mirror{position:fixed!important;margin:0!important;z-index:9999!important;opacity:.8;-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=80)";filter:alpha(opacity=80);box-shadow:0 4px 5px -2px rgba(0,0,0,.2),0 7px 10px 1px rgba(0,0,0,.14),0 2px 16px 1px rgba(0,0,0,.12)}scrumboard-board-card.gu-hide{display:none!important}scrumboard-board-card.gu-unselectable{-webkit-user-select:none!important;-moz-user-select:none!important;user-select:none!important}scrumboard-board-card.gu-transit{opacity:.2;-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=20)";filter:alpha(opacity=20)}'],encapsulation:2}),Bt);function Pt(e,t){if(1&e){var a=A.Yb();A.Xb(0,"scrumboard-board-card",10),A.fc("click",(function(){A.Ec(a);var e=t.$implicit;return A.jc().openCardDialog(e)})),A.Wb()}if(2&e){var n=t.$implicit;A.qc("model",n)("cardId",n)}}var Yt,Vt=((Yt=function(){function e(t,n,i){a(this,e),this._activatedRoute=t,this._scrumboardService=n,this._matDialog=i,this._unsubscribeAll=new z.a}return i(e,[{key:"ngOnInit",value:function(){var e=this;this._scrumboardService.onBoardChanged.pipe(Object(P.a)(this._unsubscribeAll)).subscribe((function(t){e.board=t}))}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"onListNameChanged",value:function(e){this.list.name=e}},{key:"onCardAdd",value:function(e){var t=this;""!==e&&(this._scrumboardService.addCard(this.list.id,new wt(e)),setTimeout((function(){t.listScroll.scrollToBottom(0,400)})))}},{key:"removeList",value:function(e){var t=this;this.confirmDialogRef=this._matDialog.open(Qe,{disableClose:!1}),this.confirmDialogRef.componentInstance.confirmMessage="Are you sure you want to delete the list and it's all cards?",this.confirmDialogRef.afterClosed().subscribe((function(a){a&&t._scrumboardService.removeList(e)}))}},{key:"openCardDialog",value:function(e){this.dialogRef=this._matDialog.open(yt,{panelClass:"scrumboard-card-dialog",data:{cardId:e,listId:this.list.id}}),this.dialogRef.afterClosed().subscribe((function(e){}))}},{key:"onDrop",value:function(e){this._scrumboardService.updateBoard()}}]),e}()).\u0275fac=function(e){return new(e||Yt)(A.Rb(m.a),A.Rb(N),A.Rb(x.b))},Yt.\u0275cmp=A.Lb({type:Yt,selectors:[["scrumboard-board-list"]],viewQuery:function(e,t){var a;1&e&&A.Vc(J.a,!0),2&e&&A.zc(a=A.gc())&&(t.listScroll=a.first)},inputs:{list:"list"},decls:12,vars:3,consts:[["fxLayout","column",1,"list","mat-elevation-z1"],["fxFlex","","fxLayout","row","fxLayoutAlign","space-between center",1,"list-header"],["fxFlex","1 0 auto",3,"list","listNameChanged"],["fxFlex","0 1 auto"],["mat-icon-button","",1,"list-header-option-button"],["fxLayout","column",1,"list-content"],["ngxDroppable","card","fusePerfectScrollbar","",1,"list-cards","ngx-dnd-container",3,"model","out"],["listScroll",""],["ngxDraggable","","class","scrumboard-board-card ngx-dnd-item",3,"model","cardId","click",4,"ngFor","ngForOf"],[1,"list-footer"],["ngxDraggable","",1,"scrumboard-board-card","ngx-dnd-item",3,"model","cardId","click"]],template:function(e,t){1&e&&(A.Xb(0,"div",0),A.Xb(1,"div",1),A.Xb(2,"scrumboard-board-edit-list-name",2),A.fc("listNameChanged",(function(e){return t.onListNameChanged(e)})),A.Wb(),A.Xb(3,"div",3),A.Xb(4,"button",4),A.Xb(5,"mat-icon"),A.Qc(6,"more_vert"),A.Wb(),A.Wb(),A.Wb(),A.Wb(),A.Xb(7,"div",5),A.Xb(8,"div",6,7),A.fc("out",(function(e){return t.onDrop(e)})),A.Oc(10,Pt,1,2,"scrumboard-board-card",8),A.Wb(),A.Wb(),A.Sb(11,"div",9),A.Wb()),2&e&&(A.Fb(2),A.qc("list",t.list),A.Fb(6),A.qc("model",t.list.idCards),A.Fb(2),A.qc("ngForOf",t.list.idCards))},directives:[Z.f,Z.b,Z.e,Ct,f.b,w.a,Q,J.a,O.s,zt,_],styles:['scrumboard-board-list{width:344px;min-width:344px;max-width:344px;padding-right:24px!important;height:100%}scrumboard-board-list .list{max-height:100%;border-radius:2px;transition:box-shadow .15s ease}scrumboard-board-list .list .list-header{height:64px;min-height:64px;padding:0 8px 0 16px;border-bottom:1px solid}@media screen and (max-width:959px){scrumboard-board-list .list .list-header{height:48px;min-height:48px}}scrumboard-board-list .list .list-content{position:relative;min-height:0;overflow:hidden;overflow-y:auto;-webkit-overflow-scrolling:touch}scrumboard-board-list .list .list-content .list-cards{position:relative;min-height:32px;padding:0 16px}scrumboard-board-list .list .list-footer{display:flex;flex-direction:column;flex:1 0 auto;border-top:1px solid;min-height:48px}scrumboard-board-list.has-handle [ngxdraghandle],scrumboard-board-list.has-handle [ngxDragHandle],scrumboard-board-list:not(.has-handle):not(.move-disabled){cursor:move}scrumboard-board-list .ngx-dnd-content{-webkit-user-select:none;-moz-user-select:none;user-select:none}scrumboard-board-list.gu-mirror{position:fixed!important;margin:0!important;z-index:9999!important;opacity:.8;-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=80)";filter:alpha(opacity=80)}scrumboard-board-list.gu-mirror>.list{box-shadow:0 4px 5px -2px rgba(0,0,0,.2),0 7px 10px 1px rgba(0,0,0,.14),0 2px 16px 1px rgba(0,0,0,.12)}scrumboard-board-list.gu-hide{display:none!important}scrumboard-board-list.gu-unselectable{-webkit-user-select:none!important;-moz-user-select:none!important;user-select:none!important}scrumboard-board-list.gu-transit{opacity:.2;-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=20)";filter:alpha(opacity=20)}'],encapsulation:2}),Yt);function Gt(e,t){1&e&&(A.Xb(0,"mat-icon",17),A.Qc(1,"remove_red_eye"),A.Wb())}var $t=function(){return{duration:"350ms",x:"100%"}},Ut=function(e){return{value:"*",params:e}};function Zt(e,t){if(1&e&&A.Sb(0,"scrumboard-board-list",18),2&e){var a=t.$implicit;A.qc("model",a)("list",a)("@animate",A.uc(4,Ut,A.tc(3,$t)))}}var Jt,Ht,Kt=function(){return{value:"50"}},ea=[{path:"boards",component:ie,resolve:{scrumboard:N}},{path:"boards/:boardId/:boardUri",component:(Jt=function(){function e(t,n,i){a(this,e),this._activatedRoute=t,this._location=n,this._scrumboardService=i,this._unsubscribeAll=new z.a}return i(e,[{key:"ngOnInit",value:function(){var e=this;this._scrumboardService.onBoardChanged.pipe(Object(P.a)(this._unsubscribeAll)).subscribe((function(t){e.board=t}))}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"onListAdd",value:function(e){""!==e&&this._scrumboardService.addList(new oe({name:e}))}},{key:"onBoardNameChanged",value:function(e){this._scrumboardService.updateBoard(),this._location.go("/apps/scrumboard/boards/"+this.board.id+"/"+this.board.uri)}},{key:"onDrop",value:function(e){this._scrumboardService.updateBoard()}}]),e}(),Jt.\u0275fac=function(e){return new(e||Jt)(A.Rb(m.a),A.Rb(O.n),A.Rb(N))},Jt.\u0275cmp=A.Lb({type:Jt,selectors:[["scrumboard-board"]],decls:24,vars:13,consts:[["id","board"],["fxLayout","column",1,"header","p-16","p-md-24",3,"ngClass"],["fxLayout","row wrap","fxLayoutAlign","space-between","fxFlex","1 0 auto",1,"header-content"],["fxLayout","row","fxLayoutAlign","center center","fxFlexOrder","2","fxFlexOrder.gt-xs","1"],["mat-raised-button","","routerLink","/apps/scrumboard/boards","aria-label","boards button",1,"header-boards-button",3,"ngClass"],[1,"mr-8"],["fxLayout","row","fxLayoutAlign","center center","fxLayout.gt-xs","row","fxLayoutAlign.gt-xs","center center","fxFlex","1 0 100%","fxFlex.gt-xs","1 0 auto","fxFlexOrder","1","fxFlexOrder.gt-xs","2",1,"header-board-name","mb-8","mb-md-0"],["class","board-subscribe s-16",4,"ngIf"],[3,"board","boardNameChanged"],["fxLayout","row","fxLayoutAlign","space-between center","fxFlexOrder","3",1,"toolbar"],["mat-icon-button","","aria-label","Settings","matTooltip","Settings",3,"click"],["fxFlex","",1,"board-content-wrapper","p-16","p-md-24"],["fxLayout","row","ngxDroppable","list",1,"board-content","ngx-dnd-container","p-16","p-md-24",3,"model","out"],["class","scrumboard-board-list list-wrapper ngx-dnd-item","ngxDraggable","",3,"model","list",4,"ngFor","ngForOf"],["ngxDraggable","",1,"new-list-wrapper",3,"moves","listAdded"],["position","end"],["settingsSidenav",""],[1,"board-subscribe","s-16"],["ngxDraggable","",1,"scrumboard-board-list","list-wrapper","ngx-dnd-item",3,"model","list"]],template:function(e,t){if(1&e){var a=A.Yb();A.Xb(0,"mat-sidenav-container"),A.Xb(1,"div",0),A.Xb(2,"div",1),A.Xb(3,"div",2),A.Xb(4,"div",3),A.Xb(5,"button",4),A.Xb(6,"mat-icon",5),A.Qc(7,"assessment"),A.Wb(),A.Xb(8,"span"),A.Qc(9,"BOARDS"),A.Wb(),A.Wb(),A.Wb(),A.Xb(10,"div",6),A.Oc(11,Gt,2,0,"mat-icon",7),A.Xb(12,"scrumboard-edit-board-name",8),A.fc("boardNameChanged",(function(e){return t.onBoardNameChanged(e)})),A.Wb(),A.Wb(),A.Xb(13,"div",9),A.Xb(14,"button",10),A.fc("click",(function(){return A.Ec(a),A.Ac(22).toggle()})),A.Xb(15,"mat-icon"),A.Qc(16,"settings"),A.Wb(),A.Wb(),A.Wb(),A.Wb(),A.Wb(),A.Xb(17,"div",11),A.Xb(18,"div",12),A.fc("out",(function(e){return t.onDrop(e)})),A.Oc(19,Zt,1,6,"scrumboard-board-list",13),A.Xb(20,"scrumboard-board-add-list",14),A.fc("listAdded",(function(e){return t.onListAdd(e)})),A.Wb(),A.Wb(),A.Wb(),A.Wb(),A.Xb(21,"mat-sidenav",15,16),A.Sb(23,"scrumboard-board-settings"),A.Wb(),A.Wb()}2&e&&(A.Fb(2),A.qc("ngClass",null==t.board||null==t.board.settings?null:t.board.settings.color),A.Fb(3),A.qc("ngClass",t.board.settings.color+"-800"),A.Fb(6),A.qc("ngIf",t.board.settings.subscribed),A.Fb(1),A.qc("board",t.board),A.Fb(6),A.qc("model",t.board.lists)("@animateStagger",A.tc(9,Kt)),A.Fb(1),A.qc("ngForOf",t.board.lists),A.Fb(1),A.qc("moves",!1)("@animate",A.uc(11,Ut,A.tc(10,$t))))},directives:[C.b,Z.f,re.a,O.q,Z.e,Z.b,Z.d,f.b,m.i,w.a,O.t,me,I.a,Q,O.s,ve,_,C.a,qe,Vt],styles:["scrumboard-board mat-sidenav-container{width:100%;height:100%}scrumboard-board mat-sidenav-container mat-sidenav{width:320px!important;min-width:320px!important;max-width:320px!important}scrumboard-board mat-sidenav-container #board{display:flex;flex-direction:column!important;height:100%}scrumboard-board mat-sidenav-container #board>.header{position:relative;min-height:96px;background-image:none;z-index:49}scrumboard-board mat-sidenav-container #board>.header .header-content .header-boards-button{margin:0}scrumboard-board mat-sidenav-container #board>.header .header-content .header-board-name{font-size:16px}scrumboard-board mat-sidenav-container #board>.header .header-content .header-board-name .board-subscribe{margin-right:8px}scrumboard-board mat-sidenav-container #board>.header .header-content .header-board-name .editable-buttons mat-icon{color:#fff!important}scrumboard-board mat-sidenav-container #board>.header .header-content .right-side>.mat-button:last-child{margin-right:0}scrumboard-board mat-sidenav-container #board #board-selector{position:absolute;top:96px;right:0;left:0;height:192px;z-index:48;padding:24px;opacity:1}scrumboard-board mat-sidenav-container #board #board-selector .board-list-item{width:128px;height:192px;padding:16px;cursor:pointer;position:relative}scrumboard-board mat-sidenav-container #board #board-selector .board-list-item .board-name{text-align:center;padding:16px 0}scrumboard-board mat-sidenav-container #board #board-selector .board-list-item .selected-icon{position:absolute;top:0;left:50%;width:32px;height:32px;margin-left:-16px;border-radius:50%;text-align:center;color:#fff}scrumboard-board mat-sidenav-container #board #board-selector .board-list-item .selected-icon i{line-height:32px!important}scrumboard-board mat-sidenav-container #board #board-selector .board-list-item.add-new-board{opacity:.6}scrumboard-board mat-sidenav-container #board .board-content-wrapper{position:relative}scrumboard-board mat-sidenav-container #board .board-content-wrapper .board-content{position:absolute;top:0;right:0;bottom:0;left:0;height:100%;overflow-y:hidden;overflow-x:auto;-webkit-overflow-scrolling:touch}scrumboard-board mat-sidenav-container #board .board-content-wrapper .board-content .list-sortable-placeholder{background:rgba(0,0,0,.06);margin-right:24px}scrumboard-board mat-sidenav-container #board .board-content-wrapper .board-content .new-list-wrapper{width:344px;min-width:344px;max-width:344px;padding-right:24px}"],encapsulation:2,data:{animation:Y.a}}),Jt),resolve:{board:B}},{path:"**",redirectTo:"boards"}],ta=((Ht=function e(){a(this,e)}).\u0275mod=A.Pb({type:Ht}),Ht.\u0275inj=A.Ob({factory:function(e){return new(e||Ht)},providers:[N,B],imports:[[m.l.forChild(ea),f.c,g.b,p.g,v.i,x.g,y.e,w.b,k.c,X.e,W.c,F.b,h.u,C.c,L.b,I.b,De.b,D,j.a,E.a,E.e]]}),Ht)},tDoN:function(e,t,a){"use strict";var n={};function i(e){var t=n[e];return t?t.lastIndex=0:n[e]=t=new RegExp("(?:^|\\s)"+e+"(?:\\s|$)","g"),t}e.exports={add:function(e,t){var a=e.className;a.length?i(t).test(a)||(e.className+=" "+t):e.className=t},rm:function(e,t){e.className=e.className.replace(i(t)," ").trim()}}}}])}();